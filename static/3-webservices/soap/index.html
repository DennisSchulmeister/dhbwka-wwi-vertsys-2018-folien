<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>SOAP-Webservices</title>

        <link rel="shortcut icon" href="../../favicon.svg" />
        <link rel="stylesheet" href="../../style.css" />
        <script src="../../learning-slides.bundle.js"></script>
    </head>
    <body class="slides invisible" data-title="SOAP-Webservices" tabindex="0">
        <header>
            <h2>Inhaltsverzeichnis</h2>
            <p>
                Nicht immer besitzt eine Webanwendung auch wirklich eine grafische Weboberfl√§che.
                Manchmal reicht es auch schon aus, ein paar Funktionen √ºber das Web entfernt aufrufbar
                zu machen. Wie das geht, erf√§hrst du hier.
            </p>
        </header>

        <!--
            ========================
            LERNZIELE DIESER EINHEIT
            ========================
        -->
        <section data-chapter data-background-color="rgb(210,190,210)">
            <h1>Lernziele dieser Einheit</h1>
            <article>
                <h3>Nach Abschluss dieser Einheit kannst du ‚Ä¶</h3>
                <ul>
                    <li>
                        Die Idee hinter SOAP-Webservices und <span class="dhbw-lightblue font-weight-bold">typische Anwendungsf√§lle</span> beschreiben.
                    </li>
                    <li>
                        <span class="dhbw-lightblue font-weight-bold">SOAP-Nachrichten</span> interpretieren sowie eigene SOAP-Anfragen formulieren.
                    </li>
                    <li>
                        Erkl√§ren, was eine <span class="dhbw-lightblue font-weight-bold">WSDL-Beschreibung</span> ist und wozu sie ben√∂tigt wird.
                    </li>
                    <li>
                        WSDL-Dateien in <span class="dhbw-lightblue font-weight-bold">SoapUI</span> importieren und fremde Webservices damit testen.
                    </li>
                    <li>
                        Eigene SOAP-Webservices mit den <span class="dhbw-lightblue font-weight-bold">JAX-WS-Annotationen</span> von Java entwickeln.
                    </li>
                    <li>
                        Java-EE-Anwendungen mit SOAP-Webservices <span class="dhbw-lightblue font-weight-bold">√ºbersichtlich und wartbar</span> strukturieren.
                    </li>
                    <li>
                        Entfernte Webservices mit JAX-WS aus Java heraus aufrufen.
                    </li>
                    <li>
                        Netbeans zur Generierung der f√ºr den Aufruf ben√∂tigten Webservice-Stubs verwenden.
                    </li>
                </ul>
                <span style="font-size: 240px; color: white;" class="dhbw-text-shadow" >üèÅ</span>
            </article>
            <aside>
                <p>
                    Seitdem wir uns das erste mal in Webprogrammierung mit Java auf dem Server besch√§ftigt haben, ist viel passiert.
                    Inzwischen k√∂nnen wir nicht nur einfache Webseiten serverseitig mit Java generieren, sondern wir k√∂nnen ganze
                    Webanwendungen schreiben, die einer logischen Struktur aus Datenhaltung, Serviceklassen und Weboberfl√§che entsprechen.
                    Doch nicht immer muss eine Java-EE-Anwendung eine serverseitige Weboberfl√§che beinhalten, manchmal will man
                    stattdessen einfach nur die Funktionen einer EJB f√ºr entfernte Clients √ºber das Internet aufrufbar machen.
                    Oder man will, obwohl eine Anwendung eine Weboberfl√§che besitzt, auch anderen Clients die M√∂glichkeit geben,
                    dieselben Funktionen im Hintergrund zu nutzen.
                </p>
                <p>
                    Das Mittel der Wahl hierf√ºr sind oftmals Webservices, da sie weder ein bestimmtes Betriebssystem noch eine
                    bestimmte Programmiersprache voraussetzen. Clients und Server k√∂nnen dadurch in jeder beliebigen Sprache
                    f√ºr jedes beliebige Betriebssystem programmiert werden, wodurch die gesamte Architektur sehr flexibel wird.
                    Zus√§tzich k√∂nnen sie aus fast jedem Intranet heraus aufgerufen werden, da sie wie das World Wide Web ebenfalls
                    auf HTTP basieren und somit von den meisten Firewalls durchgelassen werden. Dementsprechend hoch ist daher
                    ihre Verbreitung insbesondere gesch√§ftlichen Umfeld, wo gute Firewalls und restriktive Netzzug√§nge zur
                    Absicherung einfach dazu geh√∂ren.
                </p>
                <p>
                    In diesem Kapitel schauen wir uns ausschlie√ülich SOAP-Webservices an, bevor wir im n√§chsten Kapitel auch
                    REST-Webservices kennenlernen werden. Du erf√§hrst daher, was ein SOAP-Webservice ist, wie der technisch
                    Funktioniert und wie du sowohl eigene Webservices entwickeln als auch entfernte Webservices mit Java
                    aufrufen kannst. Dabei zeigen wir dir dann auch, warum jeder SOAP-Webservice immer eine sogenannte WSDL
                    beinhaltet und wie du damit einen Webservices mit SoapUI testen sowie alle ben√∂tigten Klassen f√ºr seinen
                    Aufruf generieren lassen kannst.
                </p>
            </aside>
        </section>

        <!--
            ========================
            Kurzvorstellung von SOAP
            ========================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>Kurzvorstellung von SOAP</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>HTTP + XML = SOAP</h1>
            <article>
                <table style="margin-bottom: 1em;">
                    <tr>
                        <td style="padding-right: 0.5em">
                            üåé
                        </td>
                        <td>
                            SOAP-Webservices erlauben Clients den entfernten Aufruf von Methoden eines Servers.
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-right: 0.5em">
                            üåç
                        </td>
                        <td>
                            HTTP dient dabei als plattformunabh√§ngiges Transportprotokoll f√ºr XML-SOAP-Nachrichten.
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-right: 0.5em">
                            üåè
                        </td>
                        <td>
                            √úblicherweise wird es in Unternehmen zur Entwicklung betriebswirtschaftlicher Anwendungen genutzt.
                        </td>
                    </tr>
                </table>

                <h2>Typische Anwendungsf√§lle</h2>

                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "usecases-b2b-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#usecases-b2b"
                                role          = "tab"
                                aria-controls = "usecases-b2b"
                                aria-expanded = "true"
                            >
                                Business-To-Business
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "usecases-integration-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#usecases-integration"
                                role          = "tab"
                                aria-controls = "usecases-integration"
                            >
                                Systemintegration
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content border border-top-0 bg-white" style="padding: 1em;">
                        <!-- Business-To-Business -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "usecases-b2b"
                            role            = "tabpanel"
                            aria-labelledby = "usecases-b2b-tab"
                        >
                            <p>
                                Sehr h√§ufig werden Webservices dazu genutzt, B2B-Szenarios zwischen mehreren Unternehmen abzubilden, wof√ºr ein Unternehmen
                                Webservices bietet, die von seinen Kunden und Lieferanten aufgerufen werden k√∂nnen. Dadurch k√∂nnen die Systeme aller
                                beteiligten Unternehmen untereinander Daten austauschen, um manuelle Prozessschritte zu eliminieren. Die nachfolgende
                                Abbildung zeigt zum Beispiel, wie ein Gro√ükunde eine Bestellung bei einem externen H√§ndler aufgibt, was wiederum zur
                                automatischen Erteilung eines Produktions- und eines Lieferauftrags bei zwei weiteren Unternehmen f√ºhrt.
                            </p>
                            <img src="usecase-b2b.svg" alt="Systemintegration zwischen Unternehmen" class="d-block" style="width: 100%;" />
                            <p>
                                <small>
                                    <small>
                                        Bildnachweis:
                                        <a href="https://pixabay.com/de/hund-laptop-computer-gl%C3%A4ser-2983021/" target="_blank">Pixabay: Kaz</a>
                                    </small>
                                </small>
                            </p>
                        </div>
                        <!-- Systemintegration -->
                        <div
                            class           = "tab-pane fade"
                            id              = "usecases-integration"
                            role            = "tabpanel"
                            aria-labelledby = "usecases-integration-tab"
                        >
                            <p>
                                Innerhalb eines Unternehmens k√∂nnen Webservices genutzt werden, um heterogene Anwendungen √ºber einen Integrationsserver
                                miteinander zu verbinden. √úblicherweise bieten die Anwendungen, die meistens von unterschiedlichen Herstellern stammen und
                                nicht miteinander kompatibel sind, hierf√ºr eine Webservice-Schnittstelle, die durch den Integrationsserver bedient
                                werden kann. Zus√§tzlich k√∂nnen auf dem Server weitere, durch die Anwendungen aufgerufene Webservices definiert werden,
                                wobei der Server die Aufrufe umwandelt und dann entsprechend weiterleitet. Manche Server besitzen dar√ºber hinaus sogar
                                eine Regel-Engine, mit der automatisch ablaufende Gesch√§ftsprozesse gesteuert werden k√∂nnen.
                            </p>
                            <img src="usecase-integration.svg" alt="Integration heterogener Anwendungen" class="d-block" style="width: 100%;" />
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Bisher haben wir HTTP nur als √úbertragungsprotokoll f√ºr HTML-Seiten, die ein Browser von einem Webserver abrufen kann, kennengelernt.
                    Im Zusammenhang mit EJBs kann HTTP aber auch etwas ganz anderes: Die Methoden einer Stateless Session Bean durch entfernte Clients
                    aufrufbar machen, und zwar auch dann (oder, besser gesagt, gerade dann), wenn diese Clients keine Browser sondern einfach irgendwelche
                    Programme sind. Man spricht dann von einem <b>Webservice</b>, da die Enterprise Java Beans gew√∂hnliche Webtechnologien benutzen, um ihre
                    Methoden entfernt aufrufbar zu machen. Die Idee dahinter hat dabei eigentlich gar nichts mit Java zu tun, da sich Webservices mit nahezu
                    jeder Programmiersprache sowohl erstellen als auch aufrufen lassen. Jedoch geht dies mit Java, wie du bald sehen wirst, besonders einfach.
                </p>
                <p>
                    Die Webservices, um dies hier geht, nennen sich <b>SOAP-Webservices</b>, was urspr√ºnglich mal f√ºr <b>Simple Object Access Protocol</b>
                    stand. Doch wie bei vielen  <a href="https://de.wikipedia.org/wiki/SOAP" target="_blank">von Microsoft erfundenen</a> Dingen, ist das
                    Protokoll weder einfach noch wirklich objektorientiert, üòâ so dass SOAP heute nur noch f√ºr SOAP steht. ‚ú® Denn rund um SOAP sind im Laufe
                    der Jahre viele verwandte Standards entstanden, die zwar allesamt reale Probleme, wie zum Beispiel die Signierung und Verschl√ºsselung der
                    √ºbertragenen Daten, l√∂sen, daf√ºr aber auch sehr komplex sind. Wir beg√ºngen uns an dieser Stelle daher nur mit den Grundlagen, bei denen
                    es immer auf folgendes hinausl√§uft:
                </p>
                <ul>
                    <li>
                        Ein Server stellt Objekte f√ºr entfernte Methodenaufrufe zur Verf√ºgung.
                    </li>
                    <li>
                        Als Transportprotokoll kommt dabei HTTP oder HTTPS¬π zum Einsatz.
                    </li>
                    <li>
                        Methodenaufruf und Ergebnis werden im SOAP-XML-Format kodiert.
                    </li>
                </ul>
                <p>
                    Das W3C definiert <a href="https://www.w3.org/TR/ws-arch/#whatis" target="_blank">Webservices</a> dementsprechend so:
                    <i>
                        Ein Webservices ist ein Softwaresystem, das f√ºr die interoperable Maschine-Zu-Maschine-Interaktion √ºber ein Netzwerk entworfen wurde.
                        [‚Ä¶] Andere Systeme interagieren mit dem Webservice [‚Ä¶] durch SOAP-Nachrichten, die typischerweise via HTTP mit einer XML-Serialisierung
                        und anderen Webstandards √ºbertragen werden.
                    </i>
                </p>
                <p>
                    Aufgrund seines Alters (SOAP wurde bereits 1999 erfunden), der prinzipbedingten Plattformunabh√§ngigkeit, der vielen angrenzenden Standards
                    sowie der ausgereiften Frameworks und Entwicklungswerkzeuge ist SOAP heute bei vielen Unternehmen im Einsatz. Insbesondere bei verteilten
                    Business-To-Business-Anwendungen ist SOAP das Mittel der Wahl und wird erst seit kurzem vermehrt durch REST¬≤ abgel√∂st. Typische Use Cases
                    sind daher die auf der Folie gezeigten, wenn zum Beispiel die Lieferkette zwischen zwei Unternehmen elektronisch abgebildet wird oder einfach
                    nur mehrere, voneinander unabh√§ngige Anwendungen √ºber einen Integrationsserver miteinander verbunden werden sollen.
                </p>
                <p>
                    <small>
                        ¬π HTTP √ºber eine verschl√ºsselte Verbindung
                        <br />
                        ¬≤ Schauen wir uns im n√§chsten Kapitel an
                    </small>
                </p>
            </aside>
        </section>

        <section>
            <h1>Technische Hintergr√ºnde zu SOAP</h1>
            <article>
                <!-- 1. WSDL
                2. HTTP-POST
                3. XML-SOAP-Format (Envelope, Header, Body)
                4. Typischer Inhalt f√ºr einen Methodenaufruf -->
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <!-- <section>
            <h1>Die WSDL als formale Spezifikation</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section> -->

        <section>
            <h1>Webservices testen mit SoapUI</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 1: Ein kleines Webservice-Quiz</h1>
            <article>
                <h2>Aufgabe 1.1: ‚Ä¶</h2>

                <p>
                    a) ‚Ä¶
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        ‚Ä¶
                    </li>
                    <li>
                        ‚Ä¶
                    </li>
                </ol>

                <hr />

                <p style="width: 100%; transform: scaleY(-1) scaleX(-1); display: inline-block;">
                    <small>
                        <b>L√∂sung:</b> Aufgabe 1.1: ‚Ä¶; <br />
                        Aufgabe 1.2: ‚Ä¶
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <!--
            =========================
            SOAP-WEBSERVICES MIT JAVA
            =========================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>SOAP-Webservices mit Java</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Eigene Webservices definieren</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section>
            <h1>Empfohlene Architektur f√ºr Java EE</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <!-- http://geek-and-poke.com/geekandpoke/2012/3/3/thank-god-not-everything-is-software.html -->
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section>
            <h1>Fremde Webservices aufrufen</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section>
            <h1>Netbeans, dein Freund und Helfer</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 2: Eine kleine Seifenoper</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 3: Ein kleines JAX-WS-Quiz</h1>
            <article>
                <h2>Aufgabe 3.1: ‚Ä¶</h2>

                <p>
                    a) ‚Ä¶
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        ‚Ä¶
                    </li>
                    <li>
                        ‚Ä¶
                    </li>
                </ol>

                <hr />

                <p style="width: 100%; transform: scaleY(-1) scaleX(-1); display: inline-block;">
                    <small>
                        <b>L√∂sung:</b> Aufgabe 3.1: ‚Ä¶; <br />
                        Aufgabe 3.2: ‚Ä¶
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <!--
            ====================
            HINWEISE ZUM SCHLUSS
            ====================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>Hinweise zum Schluss</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section data-background-color="rgb(153, 190, 137)">
            <h1>Do &amp; Don't</h1>
            <article>
                <h4>Darauf solltest du achten</h4>
                <ul>
                    <li>
                        ‚Ä¶
                    </li>
                </ul>
            </article>
            <aside>
                <p>
                        Das ist er: <a href="https://de.wikipedia.org/wiki/%C3%9Cber_den_Umgang_mit_Menschen" target="_blank">Der Knigge</a> f√ºr Java. üìò
                    Auf dieser Folie haben wir ein paar allgemeine Tipps zusammengestellt, worauf du bei der Entwicklung von SOAP-Webservices achten solltest.
                </p>
                <img src="../../do-dont.svg" class="d-block" style="width: 20em; max-width: 100%; margin-bottom: 0.5em;" />
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/dialog-tip-advice-hint-speaking-148815/" target="_blank" style="color: rgb(25, 68, 49);">Pixabay: OpenClipart-Vectors</a>
                    </small>
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(158, 203, 231)">
            <h1>Rechtshinweise</h1>
            <article>
                <h4>Creative Commons Namensnennung 4.0 International</h4>
                <ul>
                    <li>Beliebiges Teilen ist erlaubt</li>
                    <li>Die Unterlagen d√ºrfen bearbeitet und ver√§ndert werden</li>
                    <li>Wenn die Namens- und Urheberangaben erhalten bleiben</li>
                    <li>Und keine weiteren Einschr√§nkungen auferlegt werden</li>
                </ul>
                <span style="font-size: 400px; color: white;" class="dhbw-text-shadow" >¬ß</span>
            </article>
            <aside style="font-size: 80%">
                <h4>Kontaktdaten</h4>
                <p>
                    Dennis Schulmeister-Zimolong<br/>
                    E-Mail: <a data-email-address>dhbw windows3.de</a><br/>
                </p>

                <h4>Urheberrecht und Lizenzvereinbarung</h4>
                <p>
                    ¬© 2018 Dennis Schulmeister-Zimolong <br/>
                    <a href="https://github.com/DennisSchulmeister/dhbwka-wwi-vertsys-folien" target="_blank">https://github.com/DennisSchulmeister/dhbwka-wwi-vertsys-folien</a>
                </p>
                <img src="https://i.creativecommons.org/l/by/4.0/88x31.png" alt="Creative Commons Lizenzvertrag" />
                <p>
                    Das Werk <i>Vorlesung "Verteilte Systeme" im Studiengang Wirtschaftsinformatik
                    an der DHBW Karlsruhe</i> von <a href="http://www.windows3.de" target="_blank">Dennis Schulmeister-Zimolong</a>
                    ist lizenziert unter <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank"><i>Creative Commons
                    Namensnennung 4.0 International</i></a>.
                </p>
                <p>
                    Du darfst:
                </p>
                <ul>
                    <li>
                        <b>Teilen</b> ‚Äî das Material in jedwedem Format oder Medium vervielf√§ltigen
                        und weiterverbreiten
                    </li>
                    <li>
                        <b>Bearbeiten</b> ‚Äî das Material remixen, ver√§ndern und darauf aufbauen
                        und zwar f√ºr beliebige Zwecke, sogar kommerziell.
                    </li>
                </ul>
                <p>
                    Unter folgenden Bedingungen:
                </p>
                <ul>
                    <li>
                        <b>Namensnennung</b> ‚Äî Du musst angemessene Urheber- und Rechteangaben
                        machen, einen Link zur Lizenz beif√ºgen und angeben, ob √Ñnderungen
                        vorgenommen wurden. Diese Angaben d√ºrfen in jeder angemessenen Art
                        und Weise gemacht werden, allerdings nicht so, dass der Eindruck
                        entsteht, der Lizenzgeber unterst√ºtze gerade dich oder deine Nutzung
                        besonders.
                    </li>
                    <li>
                        <b>Keine weiteren Einschr√§nkungen</b> ‚Äî Du darfst keine zus√§tzlichen Klauseln
                        oder technische Verfahren einsetzen, die anderen rechtlich irgendetwas
                        untersagen, was die Lizenz erlaubt.
                    </li>
                </ul>
                <p>
                    Es werden keine Garantien gegeben und auch keine Gew√§hr geleistet.
                    Die Lizenz verschafft dir m√∂glicherweise nicht alle Erlaubnisse,
                    die du f√ºr die jeweilige Nutzung brauchst. Es k√∂nnen beispielsweise
                    andere Rechte wie Pers√∂nlichkeits- und Datenschutzrechte zu beachten
                    sein, die deine Nutzung des Materials entsprechend beschr√§nken.
                </p>
            </aside>
        </section>
    </body>
</html>
