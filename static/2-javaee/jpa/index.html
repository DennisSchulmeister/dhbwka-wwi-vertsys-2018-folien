<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Java Persistence API</title>

        <link rel="shortcut icon" href="../../favicon.svg" />
        <link rel="stylesheet" href="../../style.css" />
        <script src="../../learning-slides.bundle.js"></script>
    </head>
    <body class="slides invisible" data-title="Java Persistence API" tabindex="0">
        <header>
            <h2>Inhaltsverzeichnis</h2>
            <p>
                Das klappt ja schon ganz gut mit Java&nbsp;EE und MVC, wir haben sogar schon
                eigene Webseiten mit Datenbank im Hintergrund geschrieben. Die sch√∂nsten Sachen
                haben wir aber noch gar nicht gesehen. Hier lernst du nun, deine eigenen
                Persistence Entities  und Enterprise Java Beans zu schreiben. üñãÔ∏è
            </p>
        </header>

        <!--
            ========================
            LERNZIELE DIESER EINHEIT
            ========================
        -->
        <section data-chapter data-background-color="rgb(210,190,210)">
            <h1>Lernziele dieser Einheit</h1>
            <article>
                <h3>Nach Abschluss dieser Einheit kannst du ‚Ä¶</h3>
                <ul>
                    <li>
                        erkl√§ren, welche <span class="dhbw-lightblue font-weight-bold">Klassenbibliotheken f√ºr den Datenbankzugriff</span> Java bietet.
                    </li>
                    <li>
                        erkl√§ren, was ein <span class="dhbw-lightblue font-weight-bold">O/R-Mapper</span> ist und welche Vor- und Nachteile er hat.
                    </li>
                    <li>
                        alle Schritte zur Entwicklung einer neuen Anwendung beschreiben.
                    </li>
                    <li>
                        die <span class="dhbw-lightblue font-weight-bold">Datenbankwerkzeuge von Netbeans</span> bedienen.
                    </li>
                    <li>
                        eigene <span class="dhbw-lightblue font-weight-bold">Entity-Klassen</span> entwerfen und ausprogrammieren.
                    </li>
                    <li>
                        einfache und zusammengesetzte <span class="dhbw-lightblue font-weight-bold">Schl√ºsselfelder</span> definieren.
                    </li>
                    <li>
                        die <span class="dhbw-lightblue font-weight-bold">Tabellen- und Feldeigenschaften</span> einer Persistence Entity festlegen.
                    </li>
                    <li>
                        <span class="dhbw-lightblue font-weight-bold">Fremdschl√ºsselbeziehungen</span> zwischen zwei Entities sauber abbilden.
                    </li>
                    <li>
                        beschreiben, was eine <span class="dhbw-lightblue font-weight-bold">Persistence Unit</span> ist und wof√ºr wie sie ben√∂tigen.
                    </li>
                    <li>
                        den <span class="dhbw-lightblue font-weight-bold">Entity Manager</span> zum lesen, schreiben und l√∂schen von Daten benutzen.
                    </li>
                    <li>
                        komplexe <span class="dhbw-lightblue font-weight-bold">Datenabfragen mit JQL</span> fomulieren.
                    </li>
                    <li>
                        <span class="dhbw-lightblue font-weight-bold">datenorientierte Services</span> mit Enterprise Java Beans ausprogrammieren.
                    </li>
                </ul>
                <span style="font-size: 240px; color: white;" class="dhbw-text-shadow" >üèÅ</span>
            </article>
            <aside>
                <p>
                    Die heutige Einheit steh ganz im Zeichen der Datenbank und beendet damit den Zyklus zur serverseitigen
                    Webentwicklung. Denn nachdem du nun die Java Enterprise Edition kennengelernt hast, die serverseitige
                    Erzeugung von HTML-Code mit Servlets und JSP verstehst, eigene Enterprise Java Beans programmieren und
                    das alles zu einer √ºbersichtlichen MVC-Architektur verkn√ºpfen kannst, fehlt dir nur noch eins: Das
                    Datenmodell deiner Anwendung auf Basis einer relationalen Datenbank. üõ¢
                </p>
                <p>
                    Die Programmierung ist dabei gar nicht mal so schwer, ja eigentlich sogar ziemlich einfach üëçüèª, so dass
                    die Java Enterprise Edition ihrem Namen hier alle Ehre macht. Sind die Daten eines Unternehmens doch sein
                    Ein und Alles und liegt auch so einfach viel zu vielen Webanwendungen einer Datenbank zugrunde. Am Anfang
                    werden wir uns daher ein wenig mit den Konzepten besch√§ftigen, welche M√∂glichkeiten Java&nbsp;EE uns bietet
                    (Stichwort ‚ÄûO/R-Mapping‚Äù) und wie Netbeans uns dabei unterst√ºtzt. Danach tauchen wir dann auch schon direkt
                    in den Quellcode ein und definieren unsere eigenen Persistence Entities. Zun√§chst nur ganz einfache mit
                    einer fortlaufenden ID als Schl√ºsselwert und ein paar einfachen Feldern und gleich danach komplexere Entities
                    mit zusammengesetzten Schl√ºsseln und Fremdschl√ºsselbeziehungen.
                </p>
                <p>
                    Danach wenden wir uns dann die Verwendung der Persistence Entities zu und lernen, was der Entity Manager
                    ist, wie wir an ihn herankommen und welche Methoden er zum lesen, schreiben und l√∂schen von Daten bietet.
                    Dabei schauen wir uns dann auch die Java Query Language an, mit der wir komplexe Suchanfragen in einer
                    SQL-√§hnlichen Sprache an jede beliebige Datenbank schicken k√∂nnen. Das alles m√ºndet dann in einer Empfehlung
                    zur Implementierung von Java Enterprise Beans, so dass du deinen Clients eine konsistente und dennoch
                    leistungsf√§hige Schnittstelle zur Nutzung des Datenmodells anbieten kannst.
                </p>
                <p>
                    Das ist unser Fahrplan üöÇüöûüöûüöû f√ºr heute und wir w√ºnschen dir jetzt schon viel Spa√ü!
                </p>
            </aside>
        </section>

        <!--
            ==================================
            ALLGEMEINES ZU DATENBANKEN IN JAVA
            ==================================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>Allgemeines zu Datenbanken in Java</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Wie Java mit der Datenbank spricht</h1>
            <article>
                <img src="or-mapping.svg" alt="O/R-Mapping in Java" class="d-block" style="width: 100%; margin-bottom: 1em;" />
                <table>
                    <tr>
                        <td style="padding-right: 0.5em">
                            üõ¢Ô∏è
                        </td>
                        <td>
                            <b>JDBC:</b> Allgemeine API f√ºr den Zugriff auf relationale Datenbanken
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-right: 0.5em">
                            üõ¢Ô∏è
                        </td>
                        <td>
                            <b>JPA:</b> Auf JDBC aufbauende API f√ºr O/R-Mapper, die Javaobjekte in Tabelleneintr√§ge und umgekehrt umwandeln
                        </td>
                    </tr>
                </table>
            </article>
            <aside>
                <p>
                    Die Java Enterprise Edition kennt zwei Klassenbibliotheken f√ºr den Datenbankzugriff: JDBC und JPA. JDBC steht dabei
                    f√ºr <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/" target="_blank">Java Database Connection</a>
                    und ist eine allgemeine API, mit der SQL-Befehle an eine Datenbank gesendet werden k√∂nnen. Es handelt sich dabei um die
                    zugrunde liegende Schnittstelle, die immer genutzt wird, wenn auf eine Datenbank zugegriffen wird. Jedoch ist die
                    Programmierung nicht ganz einfach, wie das folgende Beispiel zeigt:
                </p>
                <source-code language="java">
                    @Stateless
                    public class VielZuKompliziert {
                        @Resource(mappedName="jdbc__/default")
                        DataSource dataSource;

                        public Buch findBuchByIsbn(String isbn)
                        throws SQLException {
                            try (Connection con = dataSource.getConnection()) {
                                String select = "SELECT * FROM Buch WHERE isbn = ?";
                                PrepatedStatement statement = con.prepareStatement(select);
                                statement.setString(1, isbn);

                                ResultSet result = statement.executeQuery();
                                Buch buch = new Buch();

                                while (result.next()) {
                                    Buch.setIsbn(result.getString("isbn"));
                                    Buch.setTitel(result.getString("titel"));
                                    break;
                                }

                                result.close();
                                statement.close();

                                return buch;
                            }
                        }

                        // Weitere Methoden ‚Ä¶
                    }
                </source-code>
                <p>
                    Ui, schrecklich! üëπ Bitte nicht! Das ist ja mega aufw√§ndig! Und fehleranf√§llig! Und sonst noch was!
                    Vor Java&nbsp;EE&nbsp;5 im Jahr 2006 war das tats√§chlich die einzige offizielle API, um auf eine
                    Datenbank zuzugreifen. Doch schon damals war das nicht wirklich sch√∂n, so dass sogleich alternative
                    APIs wie <a href="http://hibernate.org/" target="_blank">Hibernate</a> entstanden, die wesentlich
                    einfacher zu nutzen waren. Wir wollen das Ganze daher schnell wieder vergessen. Einzig, dass im
                    Hintergrund immer noch JDBC werkelt, wenn wir mit der Datenbank reden, ist noch ganz interessant
                    zu wissen.¬π
                </p>
                <p>
                    <small>
                        ¬π Tats√§chlich sieht die native API vieler Datenbanken f√ºr irgend eine Programmiersprache oftmals
                        relativ √§hnlich aus. Dies ist einer der Gr√ºnde, warum man als Anwendungsentwickler die nativen
                        APIs niemals direkt verwenden sollte.
                    </small>
                </p>
                <p>
                    Viel angenehmer ist da JPA, was f√ºr <b>Java Persistence API</b> steht. Dabei handelt es sich um eine
                    Klassenbibliothek, die zur Nutzung eines sogenannten O/R-Mappers dient, der zwischen den relationalen
                    Welt der Datenbank und der objektorientierten Welt von Java vermittelt. Dadurch wird es m√∂glich,
                    Code wie folgenden zu schreiben:
                </p>
                <source-code language="java">
                    @Statelss
                    public class GanzEinfach {
                        @PersistenceContext
                        EntityManager em;

                        public Buch findBuchByIsbn(String isbn) {
                            return em.find(Buch.class, isbn);
                        }

                        public void saveNewBuch(Buch buch) {
                            em.persist(buch);
                        }

                        // Weitere Methoden ‚Ä¶
                    }
                </source-code>
                <p>
                    Hm, das sieht schon viel besser aus. Fast zu einfach. üòå Doch ja, es ist wirklich so. Die Grundidee
                    ist schlicht, dass es zu jeder Tabelle eine Javaklasse gibt, deren Objekte den Zeilen der Tabelle
                    entsprechen. Wollen wir eine Zeile auslesen, erzeugt der O/R-Mapper automatisch ein solches Objekt
                    und √ºbergibt ihm die Werte aus der Datenbank. Soll stattdessen ein neuer Datensatz geschrieben werden,
                    erzeugen wir das Objekt einfach selbst und √ºbergeben es dem O/R-Mapper. Die ganzen h√§sslichen Einzelheiten,
                    wie wir sie oben gesehen haben, brauchen wir dabei nicht beachten.Das macht der O/R-Mapper f√ºr uns.
                    Wir m√ºssen lediglich eine Bean¬≤ mit den richtigen Feldern bereitstellen:
                </p>
                <p>
                    <small>
                        ¬≤ Eine Javaklasse, die f√ºr jedes Feld eine Set- und eine Get-Methode besitzt.
                    </small>
                </p>
                <source-code language="java">
                    @Entity
                    public class Buch {
                        @Id
                        private String isbn;

                        private String titel;
                        private String untertitel;

                        // Setter und Getter ‚Ä¶
                    }
                </source-code>
                <p>
                    Das ist alles, was der O/R-Mapper braucht. Einfache Methoden wie <src-code language="java">em.find()</src-code> oder
                    <src-code language="java">em.persist()</src-code> dienen dann dem Lesen und Schreiben von Datens√§tzen.
                </p>
            </aside>
        </section>

        <section>
            <h1>Von der Idee zur fertigen Anwendung</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "vorgehen-uebersicht-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#vorgehen-uebersicht"
                                role          = "tab"
                                aria-controls = "vorgehen-uebersicht"
                                aria-expanded = "true"
                            >
                                √úbersicht
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "vorgehen-datenmodell-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#vorgehen-datenmodell"
                                role          = "tab"
                                aria-controls = "vorgehen-datenmodell"
                            >
                                Datenmodell
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "vorgehen-services-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#vorgehen-services"
                                role          = "tab"
                                aria-controls = "vorgehen-services"
                            >
                                Services
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "vorgehen-benutzeroberflaeche-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#vorgehen-benutzeroberflaeche"
                                role          = "tab"
                                aria-controls = "vorgehen-benutzeroberflaeche"
                            >
                                Benutzeroberfl√§che
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content border border-top-0 bg-white" style="padding: 1em;">
                        <!-- √úbersicht -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "vorgehen-uebersicht"
                            role            = "tabpanel"
                            aria-labelledby = "vorgehen-uebersicht-tab"
                        >
                            <p>
                                Die untenstehende Zeichnung zeigt die wesentlichen Schritte, die bei der Entwicklung einer Java-EE-Anwendung anfallen.
                                Die wichtigsten davon schauen wir uns anhand eines kleinen Fallbeispiels auf den folgenden Reitern etwas genauer an.
                            </p>
                            <img src="vorgehen-uebersicht.svg" alt="Schritte w√§hrend der Entwicklung" class="d-block" style="width: 100%;" />
                        </div>
                        <!-- Datenmodell -->
                        <div
                            class           = "tab-pane fade"
                            id              = "vorgehen-datenmodell"
                            role            = "tabpanel"
                            aria-labelledby = "vorgehen-datenmodell-tab"
                        >
                            <p>
                                Zun√§chst brauchen wir ein gutes Datenmodell, das nicht zu kompliziert aber dennoch flexibel ist. Unsere kleine Anwendung modelliert
                                eine Buchsammlung. Wir haben daher Entit√§ten wie <span class="dhbw-lightblue">Buch</span>, <span class="dhbw-lightblue">Autor</span>
                                oder <span class="dhbw-lightblue">Verlag</span>, die in Beziehung zueinander stehen. Zus√§tzlich hat jeder Autor und jeder Verlag eine
                                <span class="dhbw-lightblue">Adresse</span>.
                            </p>
                            <img
                                src   = "vorgehen-datenmodell.svg"
                                alt   = "Datenmodell mit den Entit√§ten Buch, Autor, Verlag und Adresse"
                                class = "d-block"
                                style = "width: 35em; max-width: 100%; margin: 0 auto; margin-top: 1em; margin-bottom: 1em;"
                            />
                            <p>
                                In Javacode sieht das ganze ungef√§hr so aus. Die Details dazu schauen wir uns nat√ºrlich noch an.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Buch implements Serializable {
                                    @Id
                                    private String isbn = "";

                                    private String titel = "";
                                    private String untertitel = "";
                                    private BuchKategorie kategorie = BuchKategorie.UNBEKANNT;
                                    private int anzahlSeiten = 0;

                                    @ManyToMany
                                    List&lt;Autor&gt; autoren = new ArrayList&lt;&gt;();

                                    @ManyToOne
                                    private Verlag verlag = null;

                                    // Setter und Getter ‚Ä¶
                                }

                                public enum BuchKategorie {
                                    UNBEKANNT, BELLETRISTIK, FACHBUCH, SAMMELBAND, ZEITSCHRIFT;
                                }

                                @Entity
                                public class Autor implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id;

                                    private String vorname;
                                    private String nachname;
                                    private String titel;

                                    @OneToOne
                                    Adresse adresse = null;

                                    @ManyToMany(mappedBy="autoren")
                                    List&lt;Buch&gt; buecher = new ArrayList&lt;&gt;();

                                    // Setter und Getter ‚Ä¶
                                }

                                @Entity
                                public class Verlag implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id;

                                    private String name;
                                    private String rechtsform;

                                    @OneToOne
                                    Adresse adresse = null;

                                    @OneToMany(mappedBy="verlag")
                                    List&lt;Buch&gt; buecher = new ArrayList&lt;&gt;();

                                    // Setter und Getter ‚Ä¶
                                }

                                @Entity
                                public class Adresse implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id;

                                    private String strasse = "";
                                    private String hausnummer = "";
                                    private String postleitzahl = "";
                                    private String ort = "";
                                    private String land = "";

                                    // Setter und Getter ‚Ä¶
                                }
                            </source-code>
                        </div>
                        <!-- Services -->
                        <div
                            class           = "tab-pane fade"
                            id              = "vorgehen-services"
                            role            = "tabpanel"
                            aria-labelledby = "vorgehen-services-tab"
                        >
                            <p>
                                Darauf aufbauend k√∂nnen wir nun Services definieren, die sinnvolle Funktionen rund um die Entit√§ten zur Verf√ºgung stellen.
                                Im einfachsten Fall bieten wir hierf√ºr die √ºblichen CRUD-Operationen: <span class="dhbw-lightblue">Create</span>,
                                <span class="dhbw-lightblue">Read</span>, <span class="dhbw-lightblue">Update</span> und <span class="dhbw-lightblue">Delete</span>.
                            </p>

                            <img
                                src   = "vorgehen-services.svg"
                                alt   = "Klassendiagramm der Klassen BuchService, AutorService, VerlagService"
                                class = "d-block"
                                style = "width: 42em; max-width: 100%; margin: 0 auto; margin-top: 1em; margin-bottom: 1em;"
                            />

                            <source-code language="java">
                                @Stateless
                                public class BuchService {
                                    @PersistenceContext
                                    EntityManager em;

                                    // B√ºcher selektieren
                                    public Buch findByIsbn(String isbn) { ‚Ä¶ }
                                    public List&lt;Buch&gt; findByAutor(Autor autor) { ‚Ä¶ }
                                    public List&lt;Buch&gt; findByVerlag(Verlag verlag) { ‚Ä¶ }
                                    public List&lt;Buch&gt; findByTitleContains(String title) { ‚Ä¶ }

                                    // Neue B√ºcher speichern
                                    public Buch saveNew(Buch buch) { ‚Ä¶ }

                                    // B√ºcher Verlage √§ndern
                                    public Buch update(Buch buch) { ‚Ä¶ }
                                    public void delete(Buch buch) { ‚Ä¶ }
                                }

                                @Stateless
                                public class VerlagService {
                                    ‚Ä¶
                                }

                                @Stateless
                                public class AutorService {
                                    ‚Ä¶
                                }
                            </source-code>
                        </div>
                        <!-- Benutzeroberfl√§che -->
                        <div
                            class           = "tab-pane fade"
                            id              = "vorgehen-benutzeroberflaeche"
                            role            = "tabpanel"
                            aria-labelledby = "vorgehen-benutzeroberflaeche-tab"
                        >
                            <p>
                                Und last but not least eine sch√∂ne Benutzeroberfl√§che, entweder als serverseitige MVC-Webanwendung,
                                als clientseitige Webanwendung oder als Native Client. Oder jede beliebige Kombination daraus,
                                ganz wie du willst.
                            </p>
                            <img
                                src   = "vorgehen-ui.png"
                                alt   = "Benutzeroberfl√§chen f√ºr Smartphone, Tablet, Desktop und Notebook"
                                class = "d-block"
                                style = "width: 100%; margin-top: 1em;"
                            />

                            <source-code language="java">
                                @WebServlet(urlPatterns={"/start/"})
                                public class StartPageServlet extends HttpServlet {
                                    @EJB
                                    BuchService buchService;

                                    @EJB
                                    AutorService autorService;

                                    @EJB
                                    VerlagService verlagService;

                                    @Override
                                    public void doGet(HttpServletRequest request, HttpServletResponse)
                                    throws ServletException, IOException {
                                        ‚Ä¶
                                    }
                                }
                            </source-code>

                            <p>
                                <small>
                                    <small>
                                        Bildnachweise:
                                        <a href="https://pixabay.com/de/imac-ipad-iphone-macbook-laptop-1999636/" target="_blank">Pixabay: Nick_H</a>,
                                        <a href="https://pixabay.com/de/buch-rack-regal-m%C3%B6bel-design-holz-2943383/" target="_blank">Pixabay: JuralMin</a>
                                    </small>
                                </small>
                            </p>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Ordnung ist das halbe Leben. Was im Alltag gilt, gilt nat√ºrlich auch bei der Entwicklung gro√üer Anwendungen,
                    wie sie bei Java&nbsp;EE h√§ufig vorkommen. Bevor du also einfach so drauf los programmierst, solltest du eine
                    m√∂glichst genaue Vorstellung davon haben, was f√ºr eine Anwendung du schreiben willst, wie der Quellcode aufgebaut
                    sein muss und wie du hierf√ºr am besten vorgehst. Kurz um: Du brauchst einen Plan, damit du dich nicht in eine Ecke
                    programmierst, aus der du nur schwer wieder herauskommst: üôÉ
                </p>
                <a href="https://xkcd.com/1513/" target="_blank">
                    <img src="https://imgs.xkcd.com/comics/code_quality.png" class="d-block" style="width: 100%;" />
                </a>
                <p>
                    <small>
                        I honestly didn't think you could even USE emoji in variable names. <br />
                        Or that there were so many different crying ones. <br />
                        Bildnachweis: <a href="https://xkcd.com/1513/" target="_blank">Randall Munroe, xkcd 1513</a>
                    </small>
                </p>
                <p>
                    Das Gute daran ist, dass das gar nicht so schwer ist, wie du jetzt vielleicht denken magst. Denn immerhin gibt es
                    die Java Enterprise Edition nun schon so lange, dass reichlich viel Erfahrung in ihre Entwicklung geflossen ist.
                    Ein klein wenig strukturiertes Vorgehen gepaart mit ein paar einfachen Regeln und hier und da bew√§hrten Techniken
                    aus dem Software-Engingeering-Fundus und schon ergibt der Rest fast von alleine. ü¶ã
                </p>
                <p>
                    Anfangen solltest du daher immer mit dem Datenmodell, denn es ist das Fundament, auf dem alles andere aufbaut. Bevor
                    du also auch nur daran denkst, die IDE zu starten, solltest du erst das Datenmodell definieren und so genau wie m√∂glich
                    beschreiben. <a href="https://de.wikipedia.org/wiki/Entity-Relationship-Modell" target="_blank">ER-Diagramme</a> k√∂nnen
                    dabei eine gro√üe Hilfe sein, aber nat√ºrlich tut es auch jede andere Darstellungsform. Wichtig ist nur, dass alle Tabellen
                    mit allen Feldern gut durchdacht sind, es keine Redundanzen gibt und das Datenmodell nicht komplexer als unbedingt n√∂tig
                    ist. Reicht zum Beispiel ein Feld f√ºr die Telefonnummer oder muss sie in ihre einzelnen Bestandteile¬π zerlegt werden?
                    Hat eine Firma nur eine Adresse oder m√ºssen auch ihre Niederlassungen abgespeichert werden? Reicht dabei die aktuelle
                    Adresse oder werden auch historische Adressen ben√∂tigt? Solche Fragen musst du dir stellen und beantworten, bevor zu
                    programmieren anf√§ngst.
                </p>
                <p>
                    <small>
                        ¬π L√§ndervorwahl, Ortsvorwahl, Anschlussnummer, Durchwahl
                    </small>
                </p>
                <p>
                    Als n√§chstes gilt es dann, das Datenmodell im Quellcode abzubilden, also <b>Persistence Entities</b> zu schreiben,
                    wobei du dir aussuchen kannst, ob du erst die Klassen schreibst und daraus dann Tabellen generieren l√§sst, oder
                    ob du erst die Tabellen anlegst und daraus dann die Klassen generierst. Alternativ kannst du nat√ºrlich auch sowohl
                    die Klassen als auch die Tabellen manuell anlegen, je nachdem, was dir lieber ist. In der Vorlesung machen wir es
                    uns jedoch einfach und schreiben nur die Klassen. Den Rest darf Java&nbsp;EE alleine machen. üòã Wie die Klassen
                    hierf√ºr aussehen m√ºssen, schauen wir uns gleich genauer an. F√ºr den Anfang reicht es aber zu wissen, dass es sich
                    um ganz normale Javaklassen handelt, von denen je ein Objekt einer Tabellenzeile entspricht. Die Klassen m√ºssen
                    hierf√ºr lediglich mit <code>@Entity</code> gekennzeichnet werden und f√ºr jedes Tabellenfeld ein Attribut mit
                    Settern und Gettern enthalten:
                </p>
                <source-code language="java">
                    @Entity
                    public class Buch {
                        @Id
                        private String isbn;

                        public String getIsbn() {
                            return this.isbn;
                        }

                        public void setIsbn(String isbn) {
                            this.isbn = isbn;
                        }

                        ‚Ä¶
                    }
                </source-code>
                <p>
                    Als n√§chstes folgen <b>Enterprise Java Beans</b>, die sinnvolle Methoden rund um das Datenmodell definieren.
                    Sie bilden sozusagen die Schnittstelle, mit der auf die Daten zugegriffen werden kann. Die Beans sollten daher
                    die √ºblichen CRUD-Methoden zum Anlegen, Lesen, Aktualisieren und L√∂schen von Eintr√§gen beinhalten. Dar√ºber hinaus
                    k√∂nnen Sie nat√ºrlich noch alle m√∂glichen, weiteren Methoden umfassen, die f√ºr den Umgang mit den Daten n√ºtzlich sind.
                </p>
                <source-code language="java">
                    @Stateless
                    public class BuchService {
                        @PersistenceContext
                        EntityManager em;

                        // B√ºcher selektieren
                        public Buch findByIsbn(String isbn) { ‚Ä¶ }
                        public List&lt;Buch&gt; findByTitleContains(String title) { ‚Ä¶ }

                        // Neue B√ºcher speichern
                        public Buch saveNew(Buch buch) { ‚Ä¶ }

                        // B√ºcher Verlage √§ndern
                        public Buch update(Buch buch) { ‚Ä¶ }
                        public void delete(Buch buch) { ‚Ä¶ }
                    }
                </source-code>
                <p>
                    Auf dieser Ebene w√ºrde man dann auch <a href="https://de.wikipedia.org/wiki/Modultest" target="_blank">Unit Tests</a>
                    schreiben, um jederzeit die richtige Funktionsweise der Beans √ºberpr√ºfen zu k√∂nnen. Zus√§tzlich k√∂nnen die Beans mit
                    ganz wenig Aufwand zu Webservices ausgebaut werden, um somit auch von entfernten Clients aufgerufen werden zu k√∂nnen.
                    Die Details dazu schauen wir uns im Webservice-Kapitel an. Um dir zu zeigen, dass es aber wirklich ganz einfach geht,
                    hier ein minimales Beispiel:
                </p>
                <source-code language="java">
                    @Stateless
                    @WebService
                    public class BuchService {
                        @PersistenceContext
                        EntityManager em;

                        @WebMethod
                        @WebResult(name="buch")
                        public Buch findByIsbn(@WebParam(name="isbn") String isbn) {
                            ‚Ä¶
                        }
                    }
                </source-code>
                <p>
                    Fehlt dann nur noch die Benutzeroberfl√§che, wobei dir hier das volle Programm zur Verf√ºgung steht: Serverseitige
                    Webanwendungen, clientseitige Webanwendungen oder Native Clients f√ºr verschiedene Betriebssysteme. Alles ist erlaubt.
                </p>
            </aside>
        </section>

        <section>
            <h1>Welche Datenbank nutzen wir eigentlich?</h1>
            <article>
                <p>
                    Netbeans enth√§lt die Datenbank <a href="https://db.apache.org/derby/" target="_blank">Apache Derby</a>.
                    Selbstverst√§ndlich k√∂nnen wir auch jede andere Datenbank verwenden, wenn wir sie selbst konfigurieren.
                    Aber wozu? Derby funktioniert prima.
                </p>
                <img src="netbeans-derby.png" alt="Netbeans mit gestarteter Derby-Datenbank" class="d-block" style="width: 100%;" />
            </article>
            <aside>
                <p>
                    Tja, das ist eine gute Frage. Dank der weiten Verbreitung von Java und JDBC k√∂nnen wir eigentlich jede beliebige
                    Datenbank verwenden. Jede Datenbank, die etwas auf sich h√§lt, kommt auch mit einem JDBC-Treiber, auf den der
                    Applikationsserver zugreifen kann.
                </p>
                <p>
                    F√ºr den Produktiveinsatz unserer Anwendungen ist das wichtig zu wissen. F√ºr die Entwicklung ist es und jedoch
                    ein St√ºck weit egal, da Netbeans bereits eine Datenbank samt passender Glassfish-Konfiguration mitliefert.
                    Sie h√∂rt auf den Namen <a href="https://db.apache.org/derby/" target="_blank">Apache Derby</a>, ist in Java
                    geschrieben und wird automatisch mitgestartet, wenn wir unsere Anwendungen laufen lassen. Es ist schon alles
                    fix und fertig eingerichtet, wir m√ºssen nichts tun. Wie sch√∂n. ‚ò∫Ô∏è
                </p>
            </aside>
        </section>

        <section>
            <h1>√úber die Datenbankwerkzeuge in Netbeans</h1>
            <article>
                <ul class="dhbw-carousel-links">
                    <li>
                        <a href="#netbeans-dbtools-carousel" role="button" data-slide="next">N√§chstes Bild</a>
                    </li>
                    <li>
                        <a href="#netbeans-dbtools-carousel" role="button" data-slide="prev">Vorheriges Bild</a>
                    </li>
                    <li>
                        <a href="#netbeans-dbtools-carousel" role="button" data-slide-to="0">Nochmal von vorne</a>
                    </li>
                </ul>
                <ul class="dhbw-carousel-links">
                    <li>
                        <small>
                            <a href="#netbeans-dbtools-carousel" role="button" data-slide-to="0">Verbindung herstellen</a>
                        </small>
                    </li>
                    <li>
                        <small>
                            <a href="#netbeans-dbtools-carousel" role="button" data-slide-to="5">Tabellen bearbeiten</a>
                        </small>
                    </li>
                    <li>
                        <small>
                            <a href="#netbeans-dbtools-carousel" role="button" data-slide-to="11">Inhalte anzeigen und √§ndern</a>
                        </small>
                    </li>
                </ul>
                <div id="netbeans-dbtools-carousel" class="carousel slide" style="margin-bottom: 1em;" data-interval="false">
                    <div class="carousel-inner">
                        <div class="carousel-item img-thumbnail active">
                            <p>
                                Bevor die Datenbank genutzt werden kann, muss sie gestartet werden. Am einfachst startest du hierf√ºr
                                eine Webanwendung. Die Datenbank wird dann automatisch mitgestartet.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-01.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Links findest du den Reiter <i>Services</i> mit dem Men√ºpunkt <i>Databases</i>. Dort sollte die Datenbank bereits
                                eingetragen sein, so dass du dich nur noch mit Rechtsklick und <i>Connect‚Ä¶</i> verbinden musst. Benutzername und
                                Passwort lauten jeweils <b>app</b>.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-02.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Fehlt der Eintrag, klappe den Eintrag <i>Drivers</i> auf, mache einen Rechtsklick auf <i>Java DB (Network)</i> und
                                w√§hle den Men√ºpunkt <i>Connect Using‚Ä¶</i> aus.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-03.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Daraufhin √∂ffnet sich folgendes Fenster. √úbernimm die Werte aus dem Screenshot und teste die Verbindung mit
                                <i>Test Connection</i>. Wenn alles in Ordnung ist, klicke auf <i>Finish</i>. Benutzername und Passwort lauten
                                weiterhin jeweils <b>app</b>.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-04.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Sobald die Verbindung hergestellt ist, werden links die vorhandenen Datenbankschemas mit ihren Tabellen
                                angezeigt. Unsere Tabellen befinden sich alle im Schema <i>APP</i>.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-05.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Per Rechtsklick auf den Eintrag <i>Table</i> l√§sst sich eine neue Tabelle anlegen.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-06.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Dadurch √∂ffnet sich ein Fenster, in dem der Name der Tabelle sowie ihre Spalten hinterlegt werden.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-07.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Mit einem Rechtsklick auf eine Tabelle lassen sich nachtr√§glich weitere Felder anh√§ngen.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-08.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                So sieht dann das Fenster zum Anh√§ngen eines weiteren Felds aus.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-09.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Einzelne Felder lassen sich per Rechtsklick und <i>Delete</i> auch wieder l√∂schen.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-10.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Genau wie die ganze Tabelle, wenn es sein muss. Manchmal kannst du dadurch Probleme beim Starten der Anwendung l√∂sen, wenn
                                die Entityklassen nicht mehr zu den Tabellen passen.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-11.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Rechtsklick auf eine Tabelle und dann <i>View Data‚Ä¶</i> dient der Anzeige vorhandener Tabelleneintr√§ge.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-12.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Es √∂ffnet sich ein Reiter, der im oberen Teil die ausgef√ºhrte SQL-Anweisung und unten ihr Ergebnis zeigt.
                                √úber die Toolbar k√∂nnen weitere Eintr√§ge eingef√ºgt oder gel√∂scht werden.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-13.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Das Kontextmen√º enth√§lt ebenfalls ein paar interessante Eintr√§ge.
                            </p>
                            <img class="active d-block w-100" src="netbeans-dbtools-14.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Du siehst: Netbeans hat echt m√§chtige Datenbankwerkzeuge an Board. ü¶Ñ
                            </p>
                            <img class="active d-block w-25 m-auto" src="../../finish.svg" />
                        </div>
                    </div>
                </div>

                <p>
                    <small>
                        <small>
                            Bildnachweis f√ºr das Endesymbol: <a href="https://pixabay.com/en/symbol-gui-internet-internet-page-2480163/" target="_blank">Pixabay: janf93</a>
                        </small>
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    Nicht nur, dass Netbeans bereits eine fix und fertige Datenbank mitliefert, die wir beim Programmieren unserer
                    Anwendungen benutzen k√∂nnen, es hat auch so noch ein paar Tricks parat, die hin und wieder n√ºtzlich sind.
                    Auf den nachfolgenden Bildern siehst du daher, wie du ‚Ä¶
                </p>
                <ul>
                    <li>
                        eine manuelle Verbindung zu Datenbank herstellen kannst.
                    </li>
                    <li>
                        Tabellen von Hand anlegen und bearbeiten kannst.
                    </li>
                    <li>
                        Tabellen wieder l√∂schen kannst.
                    </li>
                    <li>
                        die Inhalte einer Tabelle anzeigen kannst.
                    </li>
                    <li>
                        sowie Tabellenzeilen einf√ºgen, bearbeiten und l√∂schen kannst.
                    </li>
                </ul>
                <img src="netbeans-databases.png" alt="Men√ºpunkt ‚ÄûDatebases‚Äù in Netbeans" class="d-block" style="max-width: 100%; margin-bottom: 1em;" />
                <p>
                    All dies versteckt sich hinter dem Punkt <i>Databases</i> im Reiter <i>Services</i> sowie den dazugeh√∂rigen
                    Kontextmen√ºs. Wie du in der Folie siehst, bringt ein einfacher Rechtsklick die sch√∂nsten Funktionen zu Tage.
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 1: Ein kleines Datenbank-Quiz</h1>
            <article>
                <h2>Aufgabe 1.1: Datenbankzugriffe mit Java</h2>

                <p>
                    a) Welche beiden Datenbank-APIs kennt die Java Enterprise Edition?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        JPA und JDBB
                    </li>
                    <li>
                        JDK und JDBC
                    </li>
                    <li>
                        JFK und JDCB
                    </li>
                    <li>
                        JPA und JDBC
                    </li>
                </ol>

                <p>
                    b) Welche Funktion erf√ºllen die ‚ÄûJava Database Connection‚Äù-Klassen?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Sie legen passende Tabellen f√ºr die Persistence Entities an.
                    </li>
                    <li>
                        Sie dienen als Low-Level API dazu, SQL-Befehle an die Datenbank zu schicken.
                    </li>
                    <li>
                        Sie sprechen einen O/R-Mapper an, der Tabelleneintr√§ge in Javaobjekte umwandeln kann.
                    </li>
                    <li>
                        Sie dienen der Nutzung von Persistence Entities innerhalb der EJBs.
                    </li>
                </ol>

                <p>
                    c) Und welche Funktion erf√ºllt die ‚ÄûJava Persistence API‚Äù?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                   <li>
                        Sie legt passende Tabellen f√ºr die Persistence Entities an.
                    </li>
                    <li>
                        Sie dient als Low-Level API dazu, SQL-Befehle an die Datenbank zu schicken.
                    </li>
                    <li>
                        Sie spricht einen O/R-Mapper an, der Tabelleneintr√§ge in Javaobjekte umwandeln kann.
                    </li>
                    <li>
                        Sie dient der Nutzung von Persistence Entities innerhalb der EJBs.
                    </li>
                </ol>

                <h2>Aufgabe 1.2: Vorgehen bei der Entwicklung</h2>

                <p>
                    a) In welcher Reihenfolge sind die folgenden Schritte w√§hrend der Entwicklung durchzuf√ºhren?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Enterprise Java Beans entwickeln
                    </li>
                    <li>
                        Benutzeroberfl√§che oder Clients entwickeln
                    </li>
                    <li>
                        Datenmodell definieren
                    </li>
                    <li>
                        Tabellen anlegen (falls von Hand erledigt)
                    </li>
                    <li>
                        Serviceschicht definieren
                    </li>
                    <li>
                        Persistence Entities anlegen
                    </li>
                    <li>
                        Webservices anlegen
                    </li>
                </ol>

                <p>
                    b) Entfernte Clients k√∂nnen die Persistence Entities direkt nutzen, um Daten zu lesen oder zu schreiben?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Wahr
                    </li>
                    <li>
                        Falsch
                    </li>
                </ol>

                <p>
                    c) Welche Methoden sollten die Enterprise Java Beans in aller Regel beinhalten?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Create, Read, Unlock, Delete
                    </li>
                    <li>
                        Create, Rest, Update, Dismiss
                    </li>
                    <li>
                        Create, Read, Update, Delete
                    </li>
                    <li>
                        Create, Read, Update, Discard
                    </li>
                </ol>

                <h2>Aufgabe 1.3: Datenkbanken in Netbeans</h2>

                <p>
                    a) Welche Datenbanken werden von Netbeans unterst√ºzt?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Apache Derby
                    </li>
                    <li>
                        PostgreSQL, mySQL und MariaDB
                    </li>
                    <li>
                        Alle Datenbanken, f√ºr die es JDBC-Treiber gibt
                    </li>
                </ol>

                <p>
                    b) Welche Datenbank liefert Netbeans praktischerweise schon mit aus?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Apache Derby
                    </li>
                    <li>
                        MariaDB
                    </li>
                    <li>
                        Microsoft SQL Server
                    </li>
                    <li>
                        Oracle Express Edition
                    </li>
                    <li>
                        Oracle mySQL
                    </li>
                    <li>
                        PostgreSQL
                    </li>
                    <li>
                        SQLite
                    </li>
                    <li>
                        Keine
                    </li>
                </ol>

                <p>
                    c) Welche der folgenden Datenbankoperationen k√∂nnen mit Netbeans ausgef√ºhrt werden?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Tabellen anlegen
                    </li>
                    <li>
                        Tabellen bearbeiten
                    </li>
                    <li>
                        Tabellen l√∂schen
                    </li>
                    <li>
                        Tabelleninhalte anzeigen
                    </li>
                    <li>
                        Tabelleninhalte einf√ºgen
                    </li>
                    <li>
                        Tabelleninhalte √§ndern
                    </li>
                    <li>
                        Tabelleninhalte l√∂schen
                    </li>
                    <li>
                        SQL-Befehle abschicken
                    </li>
                </ol>

                <hr />

                <p style="width: 100%; transform: scaleY(-1) scaleX(-1); display: inline-block;">
                    <small>
                        <b>L√∂sung:</b> <br />
                        Aufgabe 1.1: 4, 2, 3 <br />
                        Aufgabe 1.2: 3 ‚Üí 4 ‚Üí 6 ‚Üí 5 ‚Üí 1 ‚Üí 7 ‚Üí 2, 2, 3 <br />
                        Aufgabe 1.3: 3, 1, alle
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    So, das erste w√§re geschafft. üëèüèº Zeit f√ºr eine kurze Pause und ein kleines Quiz. üç®
                    Danach schauen wir uns die Programmierung an.
                </p>
            </aside>
        </section>

        <!--
            ===================================
            DEFINITION DER PERSISTENCE ENTITIES
            ===================================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>Definition der Persistence Entities</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Anatomie einer Persistence Entity</h1>
            <article>
                <p>
                    Persistence Entities sind einfache Beans, die mit <code>@Entity</code> gekennzeichnet werden.
                    Au√üerdem wird empfohlen, dass sie das <code>Serializable</code>-Interface implementieren.
                </p>
                <source-code language="java">
                    @Entity
                    public class Autor implements Serializable {
                </source-code>
                <div style="margin: 0 0 1em 2em;">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "anatomie-schluessel-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#anatomie-schluessel"
                                role          = "tab"
                                aria-controls = "anatomie-schluessel"
                                aria-expanded = "true"
                            >
                                Schl√ºssel
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "anatomie-felder-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#anatomie-felder"
                                role          = "tab"
                                aria-controls = "anatomie-felder"
                            >
                                Felder
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "anatomie-konstruktoren-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#anatomie-konstruktoren"
                                role          = "tab"
                                aria-controls = "anatomie-konstruktoren"
                            >
                                Konstruktoren
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "anatomie-setget-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#anatomie-setget"
                                role          = "tab"
                                aria-controls = "anatomie-setget"
                            >
                                Setter und Getter
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "anatomie-alles-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#anatomie-alles"
                                role          = "tab"
                                aria-controls = "anatomie-alles"
                            >
                                Alles zusammen
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content border border-top-0 bg-white" style="padding: 1em;">
                        <!-- Schl√ºssel -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "anatomie-schluessel"
                            role            = "tabpanel"
                            aria-labelledby = "anatomie-schluessel-tab"
                        >
                            <p>
                                H√§ufig besitzen sie als einzigen Schl√ºsselwert ein Feld namens <code>id</code>, das automatisch
                                mit einer fortlaufenden Nummer versorgt wird. Dies wird durch die beiden Annotationen <code>@Id</code>
                                und <code>@GeneratedValue</code> ausgedr√ºckt.
                            </p>
                            <source-code language="java">
                                @Id
                                @GeneratedValue
                                private long id = 0;
                            </source-code>
                        </div>
                        <!-- Felder -->
                        <div
                            class           = "tab-pane fade"
                            id              = "anatomie-felder"
                            role            = "tabpanel"
                            aria-labelledby = "anatomie-felder-tab"
                        >
                            <p>
                                Alle weiteren Felder sind automatisch Nichtschl√ºsselfelder. Sie ben√∂tigen im einfachsten Fall keine
                                Annotationen, k√∂nnen aber welche besitzen, um die Feldeigenschaften genauer zu spezifizieren.
                                Das schauen wir uns auf <a href="#11">Folie 11</a> nochmal an. Die Felder sollten <code>private</code>
                                oder <code>protected</code> sein.
                            </p>
                            <source-code language="java">
                                private String vorname = "";
                                private String nachname = "";
                                private String titel = "";
                            </source-code>
                        </div>
                        <!-- Konstruktoren -->
                        <div
                            class           = "tab-pane fade"
                            id              = "anatomie-konstruktoren"
                            role            = "tabpanel"
                            aria-labelledby = "anatomie-konstruktoren-tab"
                        >
                            <p>
                                Jede Persistence Entity sollte mindestens einen √∂ffentlichen, parameterlosen Konstruktor besitzen, in dem
                                alle Felder mit leeren Werten vorbelegt werden. In diesem Beispiel ist der Konstruktor leer, da den Feldern
                                bereits bei ihrer Deklaration ein Wert zugewiesen wird.
                            </p>
                            <source-code language="java">
                                public Autor() {
                                }
                            </source-code>
                            <p>
                                Dar√ºber hinaus k√∂nnen beliebige weitere Konstruktoren definiert werden, um die Anlage neuer Objekte zu vereinfachen.
                                Vorgaben gibt es hierf√ºr keine, oftmals hat man aber noch einen Konstruktor, der f√ºr jedes Feld einen Parameter besitzt.
                            </p>
                            <source-code language="java">
                                public Autor(String vorname, String nachname, String titel) {
                                    this.vorname = vorname;
                                    this.nachname = nachname;
                                    this.titel = titel;
                                }
                            </source-code>
                        </div>
                        <!-- Setter und Getter -->
                        <div
                            class           = "tab-pane fade"
                            id              = "anatomie-setget"
                            role            = "tabpanel"
                            aria-labelledby = "anatomie-setget-tab"
                        >
                            <p>
                                Und damit es eine echte Bean ist, muss es zu jedem Feld mindestens einen Getter  geben. In der Regel gibt
                                es je Feld auch einen Stter, bei berechneten Feldern, deren Wert nicht in der Datenbank gespeichert wird,
                                kann er aber auch ausbleiben.
                            </p>
                            <source-code language="java">
                                //
                                // Normale Felder mit Setter und Getter
                                //
                                public void setId(long id) {
                                    this.id = id;
                                }

                                public long getId() {
                                    return this.id;
                                }

                                public void setVorname(String vorname) {
                                    this.vorname = vorname;
                                }

                                public String getVorname() {
                                    return this.vorname;
                                }

                                public void setNachname(String nachname) {
                                    this.nachname = nachname;
                                }

                                public String getNachname() {
                                    return this.nachname;
                                }

                                public void setTitel(String titel) {
                                    this.titel = titel;
                                }

                                public String getTitel() {
                                    return this.titel;
                                }

                                //
                                // Berechnete Felder ohne Setter
                                //
                                public String getNameKomplett() {
                                    String name = this.titel + " " + this.vorname + " " + this.nachname;
                                    return name.trim();
                                }
                            </source-code>
                        </div>
                        <!-- Alles zusammen -->
                        <div
                            class           = "tab-pane fade"
                            id              = "anatomie-alles"
                            role            = "tabpanel"
                            aria-labelledby = "anatomie-alles-tab"
                        >
                            <source-code language="java">
                                //
                                // Schl√ºssel
                                //
                                @Id
                                @GeneratedValue
                                private long id = 0;

                                //
                                // Felder
                                //
                                private String vorname = "";
                                private String nachname = "";
                                private String titel = "";

                                //
                                // Konstruktoren
                                //
                                public Autor() {
                                }

                                public Autor(String vorname, String nachname, String titel) {
                                    this.vorname = vorname;
                                    this.nachname = nachname;
                                    this.titel = titel;
                                }

                                //
                                // Normale Felder mit Setter und Getter
                                //
                                public void setId(long id) {
                                    this.id = id;
                                }

                                public long getId() {
                                    return this.id;
                                }

                                public void setVorname(String vorname) {
                                    this.vorname = vorname;
                                }

                                public String getVorname() {
                                    return this.vorname;
                                }

                                public void setNachname(String nachname) {
                                    this.nachname = nachname;
                                }

                                public String getNachname() {
                                    return this.nachname;
                                }

                                public void setTitel(String titel) {
                                    this.titel = titel;
                                }

                                public String getTitel() {
                                    return this.titel;
                                }

                                //
                                // Berechnete Felder ohne Setter
                                //
                                public String getNameKomplett() {
                                    String name = this.titel + " " + this.vorname + " " + this.nachname;
                                    return name.trim();
                                }
                            </source-code>
                        </div>
                    </div>
                </div>
                <source-code language="java">
                    }
                </source-code>
            </article>
            <aside>
                <p>
                    Persistence Entities zu schreiben ist wirklich einfach, da es sich um ganz normale Javaklassen
                    handelt, die einfach einen Datensatz einer Tabelle abbilden. üìñ Das hei√üt, sie besitzen einfach f√ºr
                    jedes Tabellenfeld ein gleichnamiges Attribut mit dazu passenden Setter- und Getter-Methoden. Hinzu
                    kommen noch ein paar kleine Annotationen, um sie als Entity zu kennzeichnen und die Schl√ºsselwerte
                    zu definieren und das war es auch schon. Zus√§tzlich wird empfohlen, dass sie das Interface
                    <code>Serializable</code> implementieren.
                </p>
                <source-code language="java">
                    @Entity
                    public class Autor
                    implements Serializable {
                        @Id
                        @GeneratesValue
                        private long id = 0;

                        public void setId(long id) {
                            this.id = id;
                        }

                        public long getId() {
                            return this.id;
                        }
                    }
                </source-code>
                <p>
                    Hier sehen wir auch gleich, wie der Tabellenschl√ºssel definiert wird. Die beiden Annotationen <code>@Id</code>
                    und <code>@GeneratedValue</code> legen fest, dass es sich bei dem Feld <code>id</code> um ein Schl√ºsselfeld
                    handelt und dass der Wert beim Speichern automatisch vergeben wird, wenn er leer ist.
                </p>
                <p>
                    Hinzu kommen dann einfach noch ein paar weitere Nichtschl√ºsselfelder (die immer <code>private</code> oder
                    <code>protected</code> sein sollten) samt Settern und Gettern sowie mindestens ein √∂ffentlicher, parameterloser
                    Konstruktor und fertig ist unsere Klasse. Also eigentlich ganz einfach, wie du auf der Folie siehst. üòé
                </p>
            </aside>
        </section>

        <section>
            <h1>Darf's ein bisschen mehr sein?</h1>
            <article>
                <table style="margin-bottom: 1em;">
                    <tr>
                        <td style="padding-right: 0.5em;">
                            üê™
                        </td>
                        <td>
                            Ohne weitere Angaben, darf eine Persistence Entity nur ein Schl√ºsselfeld besitzen:
                        </td>
                    </tr>
                </table>
                <source-code language="java">
                    @Entity
                    public class Verlag {
                        @Id
                        @GeneratedValue
                        private long id = 0;

                        ‚Ä¶
                    }
                </source-code>
                <table style="margin-bottom: 1em;">
                    <tr>
                        <td style="padding-right: 0.5em;">
                            üê™
                        </td>
                        <td>
                            Mehrere Schl√ºsselwerte m√ºssen in einer eigenen Klasse definiert werden.
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-right: 0.5em;">
                            üê™
                        </td>
                        <td>
                            Die Klasse muss mit <code>@IdClass</code> der Entity zugeordnet werden.
                        </td>
                    </tr>
                </table>
                <source-code language="java">
                    public class BuchId {
                        private String isbn = "";
                        private int auflage = 0;

                        // Konstruktoren ‚Ä¶
                        // Setter und Getter ‚Ä¶
                    }

                    @Entity
                    @IdClass(BuchId.class)
                    public class Buch {
                        @Id
                        private String isbn = "";

                        @Id
                        private int auflage = 0;

                        // Der ganze Rest ‚Ä¶
                    }
                </source-code>
            </article>
            <aside>
                <p>
                    So, wie es in der vorherigen Folie gezeigt wurde, kann eine Persistence Entity immer nur ein
                    Schl√ºsselfeld besitzen:
                </p>
                <source-code language="java">
                    @Entity
                    public class Verlag {
                        @Id
                        @GeneratedValue
                        private long id = 0;

                        ‚Ä¶
                    }
                </source-code>
                <p>
                    H√§ufiger als man denkt, reicht das auch v√∂llig aus. Manchmal kommt man aber um einen zusammengesetzten
                    Schl√ºssel mit mehreren Feldern nicht herum. Im Prinzip muss man daf√ºr einfach nur mehrere Felder mit
                    <code>@Id</code> auszeichnen, zus√§tzlich braucht man aber noch eine weitere Klasse, die nur den Schl√ºssel üóùÔ∏è
                    definiert.
                </p>
                <p>
                    Im Beispiel auf der Folie sieht man sch√∂n, wie das Klasse <code>BuchId</code> die beiden Felder <code>isbn</code>
                    und <code>auflage</code> definiert. Es handelt sich um die beiden Schl√ºsselfelder, mit denen eine ganz bestimmte
                    Auflage eines Buchs identifiziert wird. Vor der Klasse <code>Buch</code> steht daher die Annotation
                    <src-code language="java">@IdClass(BuchId.class)</src-code>, um zu definieren, dass die Klasse <code>BuchId</code>
                    die Schl√ºsselfelder vorschreibt. Zus√§tzlich befinden sich innerhalb von <code>Buch</code> ebenfalls die beiden Werte
                    <code>isbn</code> und <code>auflage</code>, jeweils mit <code>@Id</code> ausgestattet, damit sie auch tats√§chlich in
                    der Datenbank gespeichert werden.
                </p>

                <h2>Warum so kompliziert?</h2>
                <p>
                    Warum das so kompliziert ist, h√∂re ich dich fragen? Warum man nicht einfach auf die zweite Klasse verzichten kann? ü§î
                    Das sehen wir sp√§ter, wenn wir einzelne Objekte aus der Datenbank auslesen wollen. Hier brauchen wir dann die neue
                    Klasse, um die Schl√ºsselwerte des zu lesenden Datensatzes zu √ºbergeben.
                </p>
            </aside>
        </section>

        <section>
            <h1>Definition der Tabellen- und Feldeigenschaften</h1>
            <article>
                <h4>Ben√∂tigte Annotationen</h4>
                <table style="margin-bottom: 1em;">
                    <tr>
                        <td style="padding-right: 0.5em;">
                            üìé
                        </td>
                        <td>
                            <code>@Table</code>
                        </td>
                        <td>
                            Steht vor der Klasse und definiert weitere Tabelleneigenschaften.
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-right: 0.5em;">
                            üìé
                        </td>
                        <td>
                            <code>@Index</code>
                        </td>
                        <td>
                            Definiert die Felder eines Index auf die Tabelle.
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-right: 0.5em;">
                            üìé
                        </td>
                        <td>
                            <code>@Column</code>
                        </td>
                        <td>
                            Steht vor einem Feld und definiert weitere Feldeigenschaften.
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-right: 0.5em;">
                            üìé
                        </td>
                        <td>
                            <code>@Lob</code>
                        </td>
                        <td>
                            Kennzeichnet eine Feld als <i>Large Object</i> mit unbegrenzter L√§nge.
                        </td>
                    </tr>
                </table>

                <hr />

                <h4>Praktisches Beispiel</h4>
                <source-code language="java">
                    @Entity
                    @Table(
                        name    = "T_BUCH",
                        schema  = "BUCHSAMMLUNG",
                        indexes = {
                            @Index(
                                name       = "I_AUTOR_JAHR",
                                columnList = "autor, jahr DESC"
                            ),
                            @Index(
                                name       = "I_JAHR",
                                columnList = "jahr DESC"
                            )
                        }
                    )
                    public class Buch implements Serializable {
                        @Id
                        @Column(length=30)
                        private String isbn = "";

                        @Column(nullable=false, length=50)
                        private String autor;

                        @Column(nullable=false, precision=4)
                        private long jahr;

                        @Column(nullable=false, precision=7, scale=2)
                        private long preis;

                        @Lob
                        private String klappentext = "";

                        // Und so weiter ‚Ä¶
                    }
                </source-code>
            </article>
            <aside>
                <p>
                    In vielen F√§llen kann Java aus dem Namen einer Klasse und ihrer Felder sowie den dazugeh√∂rigen Datentypen genug
                    herauslesen, um sinnvolle Tabellen in der Datenbank anzulegen. L√§sst man die Tabellen jedoch nicht automatisch
                    anlegen, sondern schreibt Entities zu bereits vorhandenen Tabellen, muss man Java hier und da ein wenig auf die
                    Spr√ºnge helfen, üèá damit beides auch wirklich zusammen passt. Dasselbe gilt auch, wenn man Sachen definieren
                    will, die sich aus dem Javacode alleine nicht ableiten lassen, beispielsweise die maximale L√§nge eines Stringfelds. üìè
                </p>
                <p>
                    Der allgemeinen Logik von Java&nbsp;EE folgenden m√ºssen hierf√ºr nur ein paar mehr Annotationen in die Klassen
                    eingebaut werden. Ein etwas gr√∂√üeres Beispiel k√∂nnte daher wie auf der Folie dargestellt aussehen. Die Annotationen
                    haben dabei folgende Bedeutung:
                </p>
                <dl>
                    <dt>
                        <code>@Table</code>
                    </dt>
                    <dd>
                        <p>
                            Steht vor einer Klasse und definiert weitere Eigenschaften zur Tabelle:
                        </p>
                        <ul>
                            <li>
                                <b>name:</b> Name der Tabelle
                            </li>
                            <li>
                                <b>schama:</b> Datenbankschema, in dem die Tabelle angelegt wird (wenn die Datenbank mehrere Schemas
                                besitzt und nicht das Standardschema verwendet werden soll)
                            </li>
                            <li>
                                <b>indexes:</b> Mit <code>@Index</code> definierte Indizes zur Beschleunigung h√§ufiger Lesezugriffe
                            </li>
                        </ul>
                    </dd>

                    <dt>
                        <code>@Index</code>
                    </dt>
                    <dd>
                        <p>
                            Definiert die Feldes eines anzulegenden Index. Die Felder werden durch Komma getrennt und k√∂nnen wahlweise
                            mit <code>ASC</code> und <code>DESC</code> auf- oder absteigend sortiert werden. Ohne diese Angabe werden
                            die Felder aufsteigend sortiert.
                        </p>
                    </dd>
                    <dt>
                        <code>@Column</code>
                    </dt>
                    <dd>
                        <p>
                            Steht vor einem einzelnen Feld und definiert weiter Eigenschaften des Felds.
                        </p>
                        <ul>
                            <li>
                                <b>name:</b> Name des Felds
                            </li>
                            <li>
                                <b>length:</b> Maximale Feldl√§nge
                            </li>
                            <li>
                                <b>precision:</b> Anzahl Ziffern bei numerischen Feldern (inkl. Nachkommastellen!)
                            </li>
                            <li>
                                <b>scale:</b> Anzahl der Nachkommastellen bei nummerischen Feldern
                            </li>
                            <li>
                                <b>nullable:</b> Boolean, ob das Feld Null-Werte beinhalten darf
                            </li>
                            <li>
                                <b>insertable:</b> Boolean, ob das Feld beim Einf√ºgen neuer S√§tze ber√ºcksichtigt wird
                            </li>
                        </ul>
                    </tdd>

                    <dt>
                        <code>@Lob</code>
                    </dt>
                    <dd>
                        Steht vor einem Feld und legt fest, dass das Feld ein <i>Large Object</i> mit unbegrenzter
                        L√§nge ist. Dies ist wichtig, da Strings standardm√§√üig als <code>VARCHR(255)</code> und eben
                        nicht als unbegrenzt lange Felder angelegt werden. Allerdings reduzieren solche Felder die
                        Performance der Datenbank erheblich und sollten daher nur sehr sparsam üí∏ benutzt werden.
                        Auch kann man nicht nach ihnen selektieren.
                    </dd>
                </dl>
            </aside>
        </section>

        <section>
            <h1>Fremdschl√ºsselbeziehungen richtig abbilden</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "fremdschluessel-uebersicht-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#fremdschluessel-uebersicht"
                                role          = "tab"
                                aria-controls = "fremdschluessel-uebersicht"
                                aria-expanded = "true"
                            >
                                √úbersicht
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "fremdschluessel-1zu1-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#fremdschluessel-1zu1"
                                role          = "tab"
                                aria-controls = "fremdschluessel-1zu1"
                            >
                                1:1-Beziehungen
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "fremdschluessel-1zuN-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#fremdschluessel-1zuN"
                                role          = "tab"
                                aria-controls = "fremdschluessel-1zuN"
                            >
                                1:n-Beziehungen
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "fremdschluessel-Nzu1-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#fremdschluessel-Nzu1"
                                role          = "tab"
                                aria-controls = "fremdschluessel-Nzu1"
                            >
                                n:1-Beziehungen
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "fremdschluessel-NzuM-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#fremdschluessel-NzuM"
                                role          = "tab"
                                aria-controls = "fremdschluessel-NzuM"
                            >
                                n:m-Beziehungen
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content border border-top-0 bg-white" style="padding: 1em;">
                        <!-- √úbersicht -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "fremdschluessel-uebersicht"
                            role            = "tabpanel"
                            aria-labelledby = "fremdschluessel-uebersicht-tab"
                        >
                            <table style="margin-bottom: 1em;">
                                <tr>
                                    <td style="padding-right: 0.5em;">
                                        üîë
                                    </td>
                                    <td>
                                        Fremdschl√ºssel werden als Objektreferenzen in Java abgebildet.
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding-right: 0.5em;">
                                        üîë
                                    </td>
                                    <td>
                                        Eine Beziehung kann dabei die Kardinalit√§ten 1:1, 1:n, n:1 oder n:m besitzen.
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding-right: 0.5em;">
                                        ‚û°Ô∏è
                                    </td>
                                    <td>
                                        Unidirektionale Beziehungen verweisen einfach von einer Klasse auf eine andere.
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding-right: 0.5em;">
                                        ‚ÜîÔ∏è
                                    </td>
                                    <td>
                                        Bei bidirektionalen Beziehungen verweisen beide Klassen gegenseitig aufeinander.
                                    </td>
                                </tr>
                            </table>

                            <table style="margin-bottom: 2em;">
                                <thead>
                                    <tr>
                                        <th>
                                            Kardinalit√§t
                                        </th>
                                        <th>
                                            Einfache Verkn√ºpfung
                                        </th>
                                        <th>
                                            Optionale R√ºckverkn√ºpfung
                                        </th>
                                    </tr>
                                </thead>
                                <tr>
                                    <td>
                                        1:1
                                    </td>
                                    <td>
                                        <code>@OneToOne</code>
                                    </td>
                                    <td>
                                        <code>@OneToOne(mappedBy="feldname")</code>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        1:n
                                    </td>
                                    <td>
                                        <code>@OneToMany</code>
                                    </td>
                                    <td>
                                        <code>@ManyToOne(mappedBy="feldname")</code>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        n:1
                                    </td>
                                    <td>
                                        <code>@ManyToOne</code>
                                    </td>
                                    <td>
                                        <code>@OneToMany(mappedBy="feldname")</code>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        n:m
                                    </td>
                                    <td>
                                        <code>@ManyToMany</code>
                                    </td>
                                    <td>
                                        <code>@ManyToMany(mappedBy="feldname")</code>
                                    </td>
                                </tr>
                            </table>

                            <h4 style="margin-bottom: 0.5em;">Beispiel</h4>

                            <source-code language="java">
                                @Entity
                                public class Buch {
                                    ‚Ä¶
                                    @ManyToOne(                      // Viele B√ºcher haben einen Verlag
                                        optional = false,            // Es muss immer einen Verlag geben
                                        fetch    = FetchType.LAZY    // Daten erst bei einem Zugriff darauf laden
                                    )
                                    Verlag verlag = null;

                                    @ManoToOne(
                                        optional = false,
                                        fetch    = FetchType.EAGER   // Daten so fr√ºh wie m√∂glich laden
                                    )
                                    Autor autor = null;
                                }
                            </source-code>
                        </div>
                        <!-- 1:1-Beziehungen -->
                        <div
                            class           = "tab-pane fade"
                            id              = "fremdschluessel-1zu1"
                            role            = "tabpanel"
                            aria-labelledby = "fremdschluessel-1zu1-tab"
                        >
                            <h3>Unidirektionale Verkn√ºpfung</h3>
                            <p>
                                Eine Entity kann mit <code>@OneToOne</code> auf eine beliebige andere Entity verweisen, um einen Fremdschl√ºssel
                                mit 1:1-Kardinalit√§t abzubilden. In der Tabelle entsteht dadurch ein <b>Fremdschl√ºsselfeld</b>.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Autor {
                                    ‚Ä¶
                                    @OneToOne
                                    Adresse adresse = null;
                                }

                                @Entity
                                public class Adresse {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;
                                    ‚Ä¶
                                }
                            </source-code>

                            <h3>Verkn√ºpfung √ºber dieselben Schl√ºsselfelder</h3>
                            <p>
                                Das Fremdschl√ºsselfeld in der Tabelle kann entfallen, wenn beide Tabellen <b>identische Schl√ºsselwerte</b>
                                besitzen. In diesem Fall kommt zu <code>@OneToOne</code> noch die Annotation <code>@MapsId</code> hinzu.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Autor {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;

                                    @OneToOne
                                    @MapsId
                                    Adresse adresse = null;
                                }

                                @Entity
                                public class Adresse {
                                    @Id
                                    private long autorId = 0;
                                    ‚Ä¶
                                }
                            </source-code>

                            <h3>Bidirektionale Verkn√ºpfung</h3>
                            <p>
                                Eine bidirektionale Verkn√ºpfung entsteht, indem zus√§tzlich zur Verkn√ºpfung von der einen Klasse auf die andere,
                                die zweite Klasse mit <code>@OneToOne(mappedBy="‚Ä¶")</code> auf das Feld der ersten Klasse zur√ºckverweist.
                                In der Datenbank entsteht dadurch <b>kein zweiter Fremdschl√ºssel</b>.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Autor {
                                    ‚Ä¶
                                    @OneToOne
                                    Adresse adresse = null;
                                }

                                @Entity
                                public class Adresse {
                                    ‚Ä¶
                                    @OneToOne(mappedBy="adresse")
                                    Autor autor = null;
                                }
                            </source-code>
                        </div>
                        <!-- 1:n -->
                        <div
                            class           = "tab-pane fade"
                            id              = "fremdschluessel-1zuN"
                            role            = "tabpanel"
                            aria-labelledby = "fremdschluessel-1zuN-tab"
                        >
                            <h3>Unidirektionale Verkn√ºpfung</h3>
                            <p>
                                1:n-Beziehungen funktionieren grunds√§tzlich nicht anders als 1:1-Beziehungen. Doch anstelle einer
                                einfachen Referenz gibt es nun eine ganze Liste, auf die eine Entity verweisen kann. In der Datenbank
                                wird dies durch ein <b>Fremdschl√ºsselfeld in der Zieltabelle</b> abgebildet.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Buch {
                                    ‚Ä¶
                                    @OneToMany
                                    List&lt;Bewertung&gt; bewertungen = new ArrayList&lt;&gt;();
                                }

                                @Entity
                                public class Bewertung {
                                    ‚Ä¶
                                }
                            </source-code>

                            <h3>Bidirektionale Verkn√ºpfung</h3>
                            <p>
                                Durch <code>@ManyToOne(mappedBy="‚Ä¶")</code> kann die Zielklasse wieder eine r√ºckw√§rtsgerichtete
                                Beziehung zur Quellklasse herstellen, ohne dass diese in der Datenbank abgelegt wird. Der Verweis
                                zeigt auf eine einzelne Referenz.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Buch {
                                    ‚Ä¶
                                    @OneToMany
                                    List&lt;Bewertung&gt; bewertungen = new ArrayList&lt;&gt;();
                                }

                                @Entity
                                public class Bewertung {
                                    ‚Ä¶
                                    @ManyToOne(mappedBy="bewertungen")
                                    Buch buch = null;
                                }
                            </source-code>
                        </div>
                        <!-- n:1-Beziehungen -->
                        <div
                            class           = "tab-pane fade"
                            id              = "fremdschluessel-Nzu1"
                            role            = "tabpanel"
                            aria-labelledby = "fremdschluessel-Nzu1-tab"
                        >
                            <h3>Unidirektionale Verkn√ºpfung</h3>
                            <p>
                                n:1 ist das Gegenteil von 1:n, logisch. Technisch gesehen ist es aber mehr mit 1:1 verwandt,
                                da auch hier einfach <b>ein Fremdschl√ºsselfeld in der Quelltabelle</b> entsteht. Allerdings
                                ist es hier erlaubt, dass mehrere Datens√§tze auf dieselbe Zielentit√§t verweisen.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Buch {
                                    ‚Ä¶
                                    @ManyToOne
                                    Verlag verlag = null:
                                }

                                @Entity
                                public class Verlag {
                                    ‚Ä¶
                                }
                            </source-code>

                            <h3>Bidirektionale Verkn√ºpfung</h3>
                            <p>
                                Und auch hier gibt es die M√∂glichkeit, mit <code>@OneToMany(mappedBy="‚Ä¶")</code> eine inverse
                                Verkn√ºpfung zu definieren. Die Annotation muss dabei vor einer Liste stehen.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Buch {
                                    ‚Ä¶
                                    @ManyToOne
                                    Verlag verlag = null:
                                }

                                @Entity
                                public class Verlag {
                                    ‚Ä¶
                                    @OneToMany(mappedBy="verlag")
                                    List&lt;Buch&gt; buecher = new ArrayList&lt;&gt;();
                                }
                            </source-code>
                        </div>
                        <!-- n:m-Beziehungen -->
                        <div
                            class           = "tab-pane fade"
                            id              = "fremdschluessel-NzuM"
                            role            = "tabpanel"
                            aria-labelledby = "fremdschluessel-NzuM-tab"
                        >
                            <h3>Unidirektionale Verkn√ºpfung</h3>
                            <p>
                                Nach all den vorherigen Beispielen, wie wird da wohl eine n:m-Beziehung aussehen? Richtig, wir verwenden
                                <code>@ManyToMany</code> vor einer Liste. In der Datenbank entsteht dadurch eine <b>Verkn√ºpfungstabelle</b>.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Buch {
                                    ‚Ä¶
                                    @ManyToMany
                                    List&lt;Autor&gt; autoren = new ArrayList&lt;&gt;();
                                }

                                @Entity
                                public class Autor {
                                    ‚Ä¶
                                }
                            </source-code>

                            <h3>Bidirektionale Verkn√ºpfung</h3>
                            <p>
                                Und wie immer auch mit R√ºckfahrticket, in diesem Fall <code>@ManyToMany(mappendBy="‚Ä¶")</code> ebenfalls
                                vor einer Liste.
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Buch {
                                    ‚Ä¶
                                    @ManyToMany
                                    List&lt;Autor&gt; autoren = new ArrayList&lt;&gt;();
                                }

                                @Entity
                                public class Autor {
                                    ‚Ä¶
                                    @ManyToMany(mappedBy="autoren")
                                    List&lt;Buch&gt; buecher = new ArrayList&lt;&gt;();
                                }
                            </source-code>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Fremdschl√ºsselbeziehungen geh√∂ren zu den gro√üen St√§rken relationaler Datenbanken und nat√ºrlich kann auch
                    die Java Persistence API damit umgehen. Doch im Gegensatz zu den Datenbanken legt JPA hier noch eine Schippe
                    an Komfort drauf und bildet die Beziehungen zwischen zwei Entities nicht einfach durch √úbernehmen der
                    Schl√ºsselwerte der einen Entity in die andere Entity ab. Kurz, so l√§uft es nicht: üôÉ
                </p>
                <source-code language="java">
                    @Entity
                    public class Verlag {
                        @Id
                        @GeneratedValue
                        private long id = 0;
                        ‚Ä¶
                    }

                    @Entity
                    public class Buch {
                        @Id
                        private String isbn = "";

                        // Vermeintlicher Fremdschl√ºssel
                        private long verlagId = 0;
                        ‚Ä¶
                    }
                </source-code>
                <p>
                    Stattdessen werden die Beziehungen √ºber Objektreferenzen abgebildet, so dass im obigen Beispiel ein <code>Buch</code>
                    einen direkten Verweis auf seinen <code>Verlag</code> h√§tte. Zus√§tzlich kommt eine spezielle Annotation zum Einsatz,
                    die besagt, um was f√ºr eine Verkn√ºpfung (1:1, 1:n, n:1 oder n:m) es sich handelt:
                </p>
                <source-code language="java">
                    @Entity
                    public class Buch {
                        @Id
                        private String isbn = "";

                        // Richtiger Fremdschl√ºssel
                        @ManyToOne
                        private Verlag verlag = null;
                        ‚Ä¶
                    }
                </source-code>
                <p>
                    Das ist wirklich elegant! üëí Wir brauchen n√§mlich nur ein Objekt vom Typ <code>Buch</code> aus der Datenbank lesen
                    und bekommen alle Daten zum <code>Verlag</code> kostenlos mit dazu, ohne eine zweite Datenbankabfrage absetzen
                    zu m√ºssen. Das macht der O/R-Mapper bereits im Hintergrund, ohne dass wir uns darum k√ºmmern m√ºssen. Allerdings sollten
                    wir ihm deshalb auch sagen, wenn der die Daten vorerst nicht zu laden braucht, da sie ohnehin nicht immer ben√∂tigt
                    werden:
                </p>
                <source-code language="java">
                    @Entity
                    public class Buch {
                        @Id
                        private String isbn = "";

                        // Richtiger Fremdschl√ºssel
                        @ManyToOne(fetchType=FetchType.LAZY)
                        private Verlag verlag = null;
                        ‚Ä¶
                    }
                </source-code>
                <p>
                    In diesem Fall w√ºrden die meisten O/R-Mapper die Daten zum Verlag erst nachladen, wenn wir wirklich auf das Attribut
                    <code>verlag</code> des Buchs zugreifen.
                </p>
                <p>
                    Des weiteren k√∂nnen wir in Java auch sogenannte <b>bidirektionale Beziehungen</b> herstellen, was es so in der
                    Datenbankwelt nicht gibt. Damit ist gemeint, dass nicht nur die Entit√§t A auf B verweisen sondern auch B zur√ºck
                    auf A verweisen kann. Ohne dass dieser zus√§tzliche Verweis in der Datenbank abgelegt wird. M√∂glich macht das das
                    Attribut <code>mappedBy</code> der verwendeten Annotationen, das immer den Feldnamen innerhalb der Quellentit√§t
                    enth√§lt.
                </p>
                <source-code language="java">
                    @Entity
                    public class Buch {
                        ‚Ä¶
                        @ManyToOne
                        Verlag verlag = null;
                    }

                    @Entity
                    public class Verlag {
                        ‚Ä¶
                        @OneToMany(mappedBy="verlag")
                        List&lt;Buch&gt; buecher = new ArrayList&lt;&gt;();
                    }
                </source-code>
                <p>
                    Wenn dir das soweit klar ist, hast du bereits alles Wesentliche verstanden. ü§ù Auf der Folie findest du dann
                    weitere Beispiele und Erkl√§rungen dar√ºber, wie die verschiedenen Beziehungstypen in Java nachgebaut werden.
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 2: Wir er√∂ffnen ein Kino</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "aufgabe2-diagramm-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#aufgabe2-diagramm"
                                role          = "tab"
                                aria-controls = "aufgabe2-diagramm"
                                aria-expanded = "true"
                            >
                                E/R-Diagramm
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "aufgabe2-standort-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#aufgabe2-standort"
                                role          = "tab"
                                aria-controls = "aufgabe2-standort"
                            >
                                Standort &amp; Co.
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "aufgabe2-spielplan-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#aufgabe2-spielplan"
                                role          = "tab"
                                aria-controls = "aufgabe2-spielplan"
                            >
                                Spielplan &amp; Co.
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "aufgabe2-loesung-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#aufgabe2-loesung"
                                role          = "tab"
                                aria-controls = "aufgabe2-loesung"
                            >
                                L√∂sung
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content border border-top-0 bg-white" style="padding: 1em;">
                        <!-- E/R-Diagramm -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "aufgabe2-diagramm"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe2-diagramm-tab"
                        >
                            <p>
                                Hier ist es: Unser Datenmodell in seiner vollen Pracht. üåÖ Um die Aufgabe etwas leichter zu machen, haben wir den
                                Beziehungen eine Richtung gegeben und kleine Bezeichnungen hinzugef√ºgt. Schaue dir das Modell in aller Ruhe an und
                                versuche, so viel wie m√∂glich nachzuvollziehen. ü§î
                                <br />
                                <small>
                                    <small>
                                        Falls du dich wunderst, warum es eine Tabelle mit Standorten gibt: Der ehemalige Besitzer der
                                        <a href="http://www.schauburg.de" target="_blank">Schauburg</a>,
                                        <a href="https://ka.stadtwiki.net/Georg_Fricker" target="_blank">Georg Fricker</a>,
                                        war bis zum Schluss auch Gesch√§ftsf√ºhrer vom
                                        <a href="http://www.filmpalast.net/" target="_blank">Filmpalast am ZKM</a>.
                                    </small>
                                </small>
                            </p>
                            <img src="aufgabe2-komplett.svg" alt="Komplettes E/R-Diagramm unseres Kinobeispiels" class="d-block" style="width: 100%; margin-top: 1em;" />
                        </div>
                        <!-- Standort & Co. -->
                        <div
                            class           = "tab-pane fade"
                            id              = "aufgabe2-standort"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe2-standort-tab"
                        >
                            <p>
                                Als kleine Anschubfinanzierung haben wir den oberen Teil rund um die Standorte des Kinos üéûÔ∏è bereits in Java umgesetzt. Unten findest
                                du den Quellcode.
                            </p>
                            <img src="aufgabe2-standort.svg" alt="Entit√§ten Standort, Mitarbeiter, Adresse und √ñffnungszeit" class="d-block" style="width: 100%; margin-top: 1em;" />
                            <source-code language="java">
                                @Entity
                                public class Standort implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;

                                    private String name = "";

                                    @OneToMany
                                    List&lt;Oeffnungszeit&gt; oeffnungszeiten = new ArrayList&lt;&gt;();

                                    @OneToOne
                                    Adresse adresse = new Adresse();

                                    @OneToMany(mappedBy="standort")
                                    List&lt;Mitarbeiter&gt; mitarbeiter = new ArrayList&lt;&gt;();

                                    @OneToMany
                                    List&lt;Spielplan&gt; = spielplaene new ArrayList&lt;&gt;();

                                    // Konstruktoren ‚Ä¶
                                    // Setter und Getter ‚Ä¶
                                }

                                @Entity
                                public class Oeffnungszeit implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;

                                    private Wochentag wochentag = Wochentag.UNBEKANNT;
                                    private Time vonUhrzeit = new Time();
                                    private Time bisUhrzeit = new Time();

                                    @ManyToOne(mappedBy="oeffnungszeiten")
                                    Standort standort = new Standort();

                                    // Konstrukturen ‚Ä¶
                                    // Setter und Getter ‚Ä¶
                                }

                                public enum Wochentag {
                                    UNBEKANNT, MONTAG, DIENSTAG, MITTWOCH,
                                    DONNERSTAG, FREITAG, SAMSTAG, SONNTAG;
                                }

                                @Entity
                                public class Adresse implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;

                                    private String strasse = "";
                                    private String hausnummer = "";
                                    private String postleitzahl = "";
                                    private String ort = "";
                                    private String land = "";

                                    // Konstruktoren
                                    // Setter und Getter
                                }

                                @Entity
                                public class Mitarbeiter implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;

                                    private String vorname = "";
                                    private String nachname = "";
                                    private Geschlecht geschlecht = Geschlecht.UNBEKANNT;
                                    private int durchwahl = 0;
                                    private String email = "";

                                    @Column(precision=7, scale=2)
                                    private long monatsgehalt = 1000.00;

                                    @OneToOne
                                    Adresse adresse = new Addresse();

                                    @ManyToOne
                                    Standort standort = new Standort();

                                    // Konstruktoren ‚Ä¶
                                    // Setter und Getter ‚Ä¶
                                }

                                public enum GESCHLECHT {
                                    UNBEKANNT, MAENNLICH, WEIBLICH;
                                }
                            </source-code>
                        </div>
                        <!-- Spielplan & Co. -->
                        <div
                            class           = "tab-pane fade"
                            id              = "aufgabe2-spielplan"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe2-spielplan-tab"
                        >
                            <p>
                                Jetzt bist du dran. üëâüèΩ Erg√§nze den Javacode um die fehlenden Entit√§ten rund im den Spielplan. Die Beziehungen zwischen
                                den Klassen sollen bidirektional umgesetzt werden und <a href="https://de.wikipedia.org/wiki/Filmgenre" target="_blank">Filmgenres</a>
                                k√∂nnen sein: <i>Action</i>, <i>Drama</i>, <i>Fantasy</i>, <i>SciFi</i>, <i>Kom√∂die</i> oder <i>Animation</i>.
                            </p>
                            <img src="aufgabe2-spielplan.svg" alt="Entit√§ten Spieplan, Vorf√ºhrung, Film und Mitwirkender" class="d-block" style="width: 100%; margin-top: 1em;" />
                        </div>
                        <!-- L√∂sung -->
                        <div
                            class           = "tab-pane fade"
                            id              = "aufgabe2-loesung"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe2-loesung-tab"
                        >
                            <p>
                                Hier die Musterl√∂sung f√ºr die Persistence Entities rund um den Spielplan:
                            </p>
                            <source-code language="java">
                                @Entity
                                public class Spielplan implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;

                                    private String name = "";

                                    @Lob
                                    private String webseitentext = "";

                                    @ManyToOne(mappedBy="spielplaene")
                                    Standort standort = new Standort();

                                    @OneToMany
                                    List&lt;Voerfuerhung&gt; vorfuehrungen = new ArrayList&lt;&gt;();

                                    // Konstruktoren
                                    // Setter und Getter ‚Ä¶
                                }

                                @Entity
                                public class Vorfuehrung implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;

                                    private Time vonUhrzeit = new Time();
                                    private Time bisUhrzeit = new Time();
                                    private String kinosaal = "";

                                    @ManyToOne(mappedBy="vorfuehrungen")
                                    Spielplan spielplan = new Spielplan();

                                    @ManyToOne
                                    Film film = new Film();

                                    // Konstruktoren ‚Ä¶
                                    // Setter und Getter ‚Ä¶
                                }

                                @Entity
                                public class Film implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;

                                    private String name = "";
                                    private int jahr = 0;
                                    private Genre genre = Genre.UNBEKANNT;
                                    private String verleiher = "";

                                    @Lob
                                    private String webseitentext = "";

                                    @OneToMany(mappedBy="film")
                                    List&lt;Vorfuehrung&gt; vorfuehrungen = new ArrayList&lt;&gt;();

                                    @ManyToMany
                                    List&lt;Mitwirkender&gt; mitwirkende = new ArrayList&lt;&gt;();

                                    // Konstruktoren ‚Ä¶
                                    // Setter und Getter ‚Ä¶
                                }

                                public enum Genre {
                                    UNBEKANNT, ACTION, DRAMA, FANTASY, SCIFI, COMEDY, ANIMATION;
                                }

                                @Entity
                                public class Mitwirkender implements Serializable {
                                    @Id
                                    @GeneratedValue
                                    private long id = 0;

                                    private String vorname = "";
                                    private String nachname = "";
                                    private String artDerMitwirkung = "";
                                    private String nameImFilm = "";

                                    @ManyToMany(mappedBy="mitwirkende")
                                    Lilst&lt;Film&gt; filme = new ArrayList&lt;&gt;();

                                    // Konstruktoren ‚Ä¶
                                    // Setter und Getter ‚Ä¶
                                }
                            </source-code>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Nach so vielen neuen Informationen wollen wir unser neu erworbenes Wissen doch gleich mal anwenden.
                    Auf dieser Folie siehst du daher ein gr√∂√üeres Beispiel √ºber ein
                    <a href="http://www.schauburg.de/">nicht ganz unbekanntes Kino hier in Karlsruhe</a>. üìΩÔ∏è
                    Denn B√ºcher üìö haben jetzt wahrlich genug gesehen. üòõ
                </p>
                <img src="schauburg.jpg" alt="" class="d-block img-thumbnail" style="width: 100%;" />
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://ka.stadtwiki.net/Datei:Schauburg_-_Frontal_20131222-121940.hk.jpg" target="_blank">Stadtwiki Karlsruhe: Kucharek</a>
                        <!-- Vorsicht: CC-BY-NC-SA Lizenz -->
                    </small>
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 3: Ein kleines Persistence-Entity-Quiz</h1>
            <article>
                <h2>Aufgabe 3.1: Schl√ºsselwerte definieren</h2>

                <p>
                    a) Persistence Entities besitzen immer nur ein Schl√ºsselfeld.
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Wahr
                    </li>
                    <li>
                        Falsch
                    </li>
                </ol>

                <p>
                    b) Persistence Entities k√∂nnen auch nicht-automatisch vergebene Schl√ºsselfelder besitzen.
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Wahr
                    </li>
                    <li>
                        Falsch
                    </li>
                </ol>

                <p>
                    c) Welche Annotation kennzeichnet die Schl√ºsselfelder einer Persistence Entity?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        <code>@Key</code>
                    </li>
                    <li>
                        <code>@Id</code>
                    </li>
                    <li>
                        <code>@IdClass</code>
                    </li>
                    <li>
                        <code>@IdField</code>
                    </li>
                </ol>

                <p>
                    d) Wie muss man vorgehen, um eine Entity mit mehr als einem Schl√ºsselfeld zu definieren?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Das geht nicht, siehe Frage a).
                    </li>
                    <li>
                        Einfach alle Felder mit <code>@IdField</code> kennzeichnen.
                    </li>
                    <li>
                        Alle Felder mit <code>@Id</code> kennzeichnen und mit <code>@IdClass</code> auf eine
                        Klasse mit nur den Schl√ºsselfeldern verweisen.
                    </li>
                    <li>
                        Alle Schl√ºsselfelder in einer eigenen Klasse definieren und dann eine Referenz
                        auf die Klasse mit <code>@IdClass</code> kennzeichnen.
                    </li>
                </ol>

                <h2>Aufgabe 3.2: Tabellen- und Feldeigenschaften</h2>

                <p>
                    a) Wie oft kann die Annotation <code>@Table</code> in einer Persistence Entity verwendet werden?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Gar nicht, es handelt sich um eine Annotation f√ºr EJBs
                    </li>
                    <li>
                        H√∂chstens einmal
                    </li>
                    <li>
                        Genau einmal
                    </li>
                    <li>
                        H√∂chstens drei mal
                    </li>
                    <li>
                        Beliebig oft
                    </li>
                </ol>

                <p>
                    b) An welcher Stelle muss die Annotation <code>@Column</code> in einer Persistence Entity stehen?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Irgendwo vor der Klasse
                    </li>
                    <li>
                        Immer vor der Annotation <code>@Entity</code>
                    </li>
                    <li>
                        Immer nach der Annotation <code>@Entity</code>
                    </li>
                    <li>
                        In jeder beliebigen Stelle innerhalb der Klasse
                    </li>
                    <li>
                        Vor beliebig vielen Attributen der Klasse
                    </li>
                    <li>
                        Vor beliebig vielen Methodenparametern
                    </li>
                </ol>

                <p>
                    c) Wozu dienen die Indizes, die mit <code>@Table</code> definiert werden k√∂nnen?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Der Beschleunigung h√§ufig ben√∂tigter Datenselektionen
                    </li>
                    <li>
                        Der Beschleunigung h√§ufig ben√∂tigter Einf√ºgeoperationen
                    </li>
                    <li>
                        Der Vorsortierung h√§ufig geschriebener Datens√§tze
                    </li>
                    <li>
                        Der Kompatibilit√§t mit anderen O/R-Mappern
                    </li>
                </ol>

                <p>
                    d) Was dr√ºcken die Werte <b>precision</b> und <b>scale</b> der Annotation <code>@Column</code> aus?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Die Mindest- und Maximall√§nge zeichenartiger Felder
                    </li>
                    <li>
                        Wie genau eine Fremdschl√ºsselbeziehung spezifiziert ist
                    </li>
                    <li>
                        Die maximale Anzahl Ziffern einer Kommazahl sowie wie viele davon Nachkommastellen sind
                    </li>
                    <li>
                        Die Anzahl, wie oft ein Boolean auf <code>false</code> umschalten darf
                    </li>
                    <li>
                        Die Genauigkeit, mit der du diese Antworten liest
                    </li>
                    <li>
                        Das maximale Gesamtgewicht aller Entities in Kilogramm oder Pfund
                    </li>
                </ol>

                <p>
                    e) Wie kann der Name einer Tabelle oder eines Felds in der Datenbank √ºberschrieben werden?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Mit der Annotation <code>@Name</code> vor der Klasse oder dem Feld
                    </li>
                    <li>
                        Mit dem Attribut <b>name</b> der Annotationen <code>@Table</code> und <code>@Column</code>
                    </li>
                    <li>
                        Mit der Annotation <code>@BeanName</code> innerhalb der rufenden EJBs
                    </li>
                </ol>

                <p>
                    f) Welche Vor- und Nachteile ergeben sich aus der Annotation <code>@Lob</code>?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Die dadurch gekennzeichneten Stringfelder k√∂nnen jede beliebige Gr√∂√üe annehmen, dr√ºcken
                        daf√ºr aber die Performance nach unten.
                    </li>
                    <li>
                        Die dadurch gekennzeichneten Integerfelder k√∂nnen beliebig gro√üe Zahlen annehmen, daf√ºr
                        kann nach ihnen nicht selektiert werden.
                    </li>
                    <li>
                        Man lobt den Entwickler f√ºr seine gute Arbeit, es gibt aber keine Annotation f√ºr <code>@Tadel</code>.
                    </li>
                </ol>

                <h2>Aufgabe 3.3: Fremdschl√ºsselbeziehungen</h2>

                <p>
                    a) Welche der folgenden Beziehungstypen k√∂nnen nicht mit JPA abgebildet werden?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        1:1-Beziehungen
                    </li>
                    <li>
                        1:n-Beziehungen
                    </li>
                    <li>
                        n:1-Beziehungen
                    </li>
                    <li>
                        n:m-Beziehungen
                    </li>
                </ol>

                <p>
                    b) Wie werden 16:9-Beziehungen mit der Java Persistence API abgebildet?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Gar nicht, du warst wohl zu oft im Kino!
                    </li>
                    <li>
                        Mit der Annotation <code>@Widescreen</code>
                    </li>
                    <li>
                        Mit den Annotationen <code>@HdReady</code> und <code>@FullHD</code>
                    </li>
                </ol>

                <p>
                    c) Was sind bidirektionale Beziehungen?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Einfache Beziehungen von einer Entit√§t zu einer anderen
                    </li>
                    <li>
                        Beziehungen mit mehr als einer Zielentit√§t
                    </li>
                    <li>
                        Beziehungen in beide Richtungen zwischen zwei Entit√§ten
                    </li>
                    <li>
                        Beziehungen mit mehr als einer Startidentit√§t
                    </li>
                </ol>

                <p>
                    d) Welche Anpassung muss bei einer unidirektionalen Beziehungen an der Zielentit√§t vorgenommen werden?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Keine, das ist nur bei bidirektionalen Beziehungen erforderlich.
                    </li>
                    <li>
                        Es muss eine passende Annotation mit der Eigenschaft <b>mappedBy</b> hinzugef√ºgt werden.
                    </li>
                    <li>
                        Es muss eine gegenl√§ufige Annotation ohne besondere Eigenschaften hinzugef√ºgt werden.
                    </li>
                    <li>
                        Es muss mit <code>@ForeignKey</code> ein r√ºckw√§rtsgerichteter Fremdschl√ºssel hinzugef√ºgt werden.
                    </li>
                </ol>

                <p>
                    e) Und welche Anpassung muss bei einer bidirektionalen Beziehung an der Zielentit√§t vorgenommen werden?
                </p>
                <ol class="dhbw-liste-mit-viel-text">
                    <li>
                        Keine, das ist nur bei unidirektionalen Beziehungen erforderlich.
                    </li>
                    <li>
                        Es muss eine passende Annotation mit der Eigenschaft <b>mappedBy</b> hinzugef√ºgt werden.
                    </li>
                    <li>
                        Es muss eine gegenl√§ufige Annotation ohne besondere Eigenschaften hinzugef√ºgt werden.
                    </li>
                    <li>
                        Es muss mit <code>@ForeignKey</code> ein r√ºckw√§rtsgerichteter Fremdschl√ºssel hinzugef√ºgt werden.
                    </li>
                </ol>

                <hr />

                <p style="width: 100%; transform: scaleY(-1) scaleX(-1); display: inline-block;">
                    <small>
                        <b>L√∂sung:</b> <br />
                        Aufgabe 3.1: 2, 1, 2, 3 <br />
                        Aufgabe 3.2: 4, 5, 1, 3, 2, 1 <br />
                        Aufgabe 3.3: alle, 1, 3, 1, 2
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    Hier dann noch ein paar Wiederholungsfragen, um auch die weniger h√§ufigen Annotationen
                    abzuklopfen. Wenn du die kannst, bist du echt gut. ü•â
                </p>
            </aside>
        </section>

        <!--
            ==============================
            DATEN LESEN, SCHREIBEN, √ÑNDERN
            ==============================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>Daten lesen, schreiben, √§ndern</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Ohne Persistence Unit geht es nicht</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section>
            <h1>Der Entity Manager stellt sich vor</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section>
            <h1>Komplexe Anfragen formulieren</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section>
            <h1>Sinnvolle Methoden f√ºr die EJBs</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section>
            <h1>Beispiel: Geht eine EJB ins Kino</h1>
            <article>
                ‚Ä¶
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 4: Ein kleines Entity-Manager-Quiz</h1>
            <article>
                ‚Ä¶

                <hr />

                <p style="transform: scaleY(-1) scaleX(-1); display: inline-block;">
                    <small>
                        <b>L√∂sung:</b> <br />
                        Aufgabe 4.1: X;
                        Aufgabe 4.2: X;
                        Aufgabe 4.3: X
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    ‚Ä¶
                </p>
            </aside>
        </section>

        <!--
            ====================
            HINWEISE ZUM SCHLUSS
            ====================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>Hinweise zum Schluss</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section data-background-color="rgb(153, 190, 137)">
            <h1>Do &amp; Don't</h1>
            <article>
                <h4>Darauf solltest du achten</h4>
                <ul>
                    <li>
                        ‚Ä¶
                    </li>
                </ul>
            </article>
            <aside>
                <p>
                    Dies sind sie: Die ber√ºhmten letzten Worte. üìÑ Auf dieser Folie haben wir ein paar allgemeine
                    Tipps zusammengestellt, worauf du bei ‚Ä¶
                    achten solltest.
                </p>
                <img src="../../do-dont.svg" class="d-block" style="width: 20em; max-width: 100%; margin-bottom: 0.5em;" />
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/dialog-tip-advice-hint-speaking-148815/" target="_blank" style="color: rgb(25, 68, 49);">Pixabay: OpenClipart-Vectors</a>
                    </small>
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(158, 203, 231)">
            <h1>Rechtshinweise</h1>
            <article>
                <h4>Creative Commons Namensnennung 4.0 International</h4>
                <ul>
                    <li>Beliebiges Teilen ist erlaubt</li>
                    <li>Die Unterlagen d√ºrfen bearbeitet und ver√§ndert werden</li>
                    <li>Wenn die Namens- und Urheberangaben erhalten bleiben</li>
                    <li>Und keine weiteren Einschr√§nkungen auferlegt werden</li>
                </ul>
                <span style="font-size: 400px; color: white;" class="dhbw-text-shadow" >¬ß</span>
            </article>
            <aside style="font-size: 80%">
                <h4>Kontaktdaten</h4>
                <p>
                    Dennis Schulmeister-Zimolong<br/>
                    E-Mail: <a data-email-address>dhbw windows3.de</a><br/>
                </p>

                <h4>Urheberrecht und Lizenzvereinbarung</h4>
                <p>
                    ¬© 2018 Dennis Schulmeister-Zimolong <br/>
                    <a href="https://github.com/DennisSchulmeister/dhbwka-wwi-vertsys-folien" target="_blank">https://github.com/DennisSchulmeister/dhbwka-wwi-vertsys-folien</a>
                </p>
                <img src="https://i.creativecommons.org/l/by/4.0/88x31.png" alt="Creative Commons Lizenzvertrag" />
                <p>
                    Das Werk <i>Vorlesung "Verteilte Systeme" im Studiengang Wirtschaftsinformatik
                    an der DHBW Karlsruhe</i> von <a href="http://www.windows3.de" target="_blank">Dennis Schulmeister-Zimolong</a>
                    ist lizenziert unter <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank"><i>Creative Commons
                    Namensnennung 4.0 International</i></a>.
                </p>
                <p>
                    Du darfst:
                </p>
                <ul>
                    <li>
                        <b>Teilen</b> ‚Äî das Material in jedwedem Format oder Medium vervielf√§ltigen
                        und weiterverbreiten
                    </li>
                    <li>
                        <b>Bearbeiten</b> ‚Äî das Material remixen, ver√§ndern und darauf aufbauen
                        und zwar f√ºr beliebige Zwecke, sogar kommerziell.
                    </li>
                </ul>
                <p>
                    Unter folgenden Bedingungen:
                </p>
                <ul>
                    <li>
                        <b>Namensnennung</b> ‚Äî Du musst angemessene Urheber- und Rechteangaben
                        machen, einen Link zur Lizenz beif√ºgen und angeben, ob √Ñnderungen
                        vorgenommen wurden. Diese Angaben d√ºrfen in jeder angemessenen Art
                        und Weise gemacht werden, allerdings nicht so, dass der Eindruck
                        entsteht, der Lizenzgeber unterst√ºtze gerade dich oder deine Nutzung
                        besonders.
                    </li>
                    <li>
                        <b>Keine weiteren Einschr√§nkungen</b> ‚Äî Du darfst keine zus√§tzlichen Klauseln
                        oder technische Verfahren einsetzen, die anderen rechtlich irgendetwas
                        untersagen, was die Lizenz erlaubt.
                    </li>
                </ul>
                <p>
                    Es werden keine Garantien gegeben und auch keine Gew√§hr geleistet.
                    Die Lizenz verschafft dir m√∂glicherweise nicht alle Erlaubnisse,
                    die du f√ºr die jeweilige Nutzung brauchst. Es k√∂nnen beispielsweise
                    andere Rechte wie Pers√∂nlichkeits- und Datenschutzrechte zu beachten
                    sein, die deine Nutzung des Materials entsprechend beschr√§nken.
                </p>
            </aside>
        </section>
    </body>
</html>
