 <!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Enterprise Java Beans</title>

        <link rel="shortcut icon" href="../../favicon.svg" />
        <link rel="stylesheet" href="../../style.css" />
        <script src="../../learning-slides.bundle.js"></script>
    </head>
    <body class="slides invisible" data-title="Enterprise Java Beans" tabindex="0">
        <header>
            <h2>Inhaltsverzeichnis</h2>
            <p>
                …
            </p>
        </header>

        <!--
            ========================
            LERNZIELE DIESER EINHEIT
            ========================
        -->
        <section data-chapter data-background-color="rgb(210,190,210)">
            <h1>Lernziele dieser Einheit</h1>
            <article>
                <h3>Nach Abschluss dieser Einheit kannst du …</h3>
                <ul>
                    <li>
                        erklären, was die <span class="dhbw-lightblue font-weight-bold">Java Enterprise Edition</span>
                        (Java&nbsp;EE) ist und wie sie sich von der Java Standard Edition unterscheidet.
                    </li>
                    <li>
                        die wichtigsten, <span class="dhbw-lightblue font-weight-bold">über eine einfache Middleware
                        hinausgehenden Dienste</span> von Java&nbsp;EE benennen.
                    </li>
                    <li>
                        aufzeigen, mit welchen <span class="dhbw-lightblue font-weight-bold">Schnittstellentechnologien</span>
                        sich Java&nbsp;EE in eine bestehende IT-Landschaft integrieren kann.
                    </li>
                    <li>
                        die wichtigsten <span class="dhbw-lightblue font-weight-bold">APIs</span> zur Programmierung mit
                        der Java Enterprise Edition aufzählen.
                    </li>
                    <li>
                        erklären, wie eine Java-Webanwendung nach <span class="dhbw-lightblue font-weight-bold">Model-View-Controller</span>
                        gegliedert werden kann.
                    </li>
                    <li>
                        eine minimale Webanwendung nach dem MVC-Prinzip programmieren.
                    </li>
                    <li>
                        die Vor- und Nachteile der verschiedenen Arten von <span class="dhbw-lightblue font-weight-bold">Enterprise
                        Java Beans</span> gegeneinander abwägen.
                    </li>
                    <li>
                        entscheiden, wann eine Enterprise Java Bean ein <span class="dhbw-lightblue font-weight-bold">Local Interface</span>,
                        ein <span class="dhbw-lightblue font-weight-bold">Remote Interface</span> oder keines davon benötigt.
                    </li>
                </ul>
                <span style="font-size: 240px; color: white;" class="dhbw-text-shadow" >🏁</span>
            </article>
            <aside>
                <p>
                    Ohne Zweifel handelt es sich beim World Wide Web die um die größte verteilte Anwendung überhaupt.
                    Was liegt also näher, als sich auch in der Vorlesung Verteilte Systeme damit auseinanderzusetzen
                    und die Dinge abzuschließen, die wir letztes Semester begonnen haben? Beginnen werden wir die
                    Einheit daher mit einem kurzen Überblick über die <b>Java Enterprise Edition</b>, die uns als echte
                    anwendungsorientierte Middleware gleich eine ganze Reihe an <b>Applikationsservern</b> zur Verfügung
                    stellt. 🎁 Wir werden daher sehen, was die Java Enterprise Edition genau ist und welche <b>APIs und
                    Funktionen</b> sie beinhaltet. Auch werden wir sehen, wie ein so ein Anwendungsserver aufgebaut
                    ist und was er außer Servlets und JSP noch so alles kann.
                </p>
                <p>
                    Mit diesem Wissen tasten wir uns dann an <b>Model-View-Controller</b> heran und lernen, wie eine
                    Webanwendung mit Java sinnvoll aufgebaut sein muss. Für einen kurzen Augenblick werden wir daher
                    zu den guten alten <b>Servlets und Java Server Pages</b> zurückkehren und zeigen, dass diese erst
                    durch <b>Enterprise Java Beans</b> und <b>Persistence Entities</b> wirklich komplett sind.
                </p>
                <p>
                    Von Datenbankzugriffen einmal abgesehen¹ weißt du an dieser Stelle 🎌 dann auch schon alles, was du
                    für die Entwicklung serverseitiger Webanwendungen in Java brauchst. Abschließen werden wir die Einheit
                    daher mit einem tieferen Blick auf Enterprise Java Beans, da diese auch allgemein und damit für die
                    weitere Vorlesung ganz interessant sind.
                </p>
                <p>
                    <small>
                        ¹ Diese schauen wir uns im nächsten Foliensatz separat an.
                    </small>
                </p>
            </aside>
        </section>

        <!--
            ====================
            JAVA EE IM ÜBERBLICK
            ====================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>Java&nbsp;EE im Überblick</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Was ist die Java Enterprise Edition?</h1>
            <article>
                <img src="appserver-schnittstellen.png" alt="Grober Aufbau eines Java-Applikationsservers" class="d-block" style="width: 100%; margin-bottom: 1em;" />
                <p>
                    Die Java Enterprise Edition ist keine Erweiterung von Java sondern ein offener Standard für javabasierte Anwendungsserver.
                    Diese werden von unterschiedlichen Herstellern angeboten:
                </p>
                <ul>
                    <li>
                        <a href="https://tomee.apache.org" target="_blank">Apache TomEE</a>
                    </li>
                    <li>
                        <a href="https://javaee.github.io/glassfish/" target="_blank">Oracle Glassfish</a>
                    </li>
                    <li>
                        <a href="http://www.wildfly.org/" target="_blank">RedHat Wildfly</a>
                    </li>
                    <li>
                        …
                    </li>
                </ul>
                <p>
                    Jeder Anwendungsserver besitzt dabei einen <b>Webcontainer</b> zur Bereitstellung von Webinhalten sowie eine
                    <b>EJB-Container</b> zur Ausführung der fachlichen Anwendungsklassen. Darüber hinaus bietet er viele eingebaute
                    Zusatzfunktionen:
                </p>
                <ul>
                    <li>
                        Verschiedene Arten der Benutzerverwaltung (Datenbankbasiert, LDAP, …)
                    </li>
                    <li>
                        Ein rollenbasiertes Berechtigungskonzept
                    </li>
                    <li>
                        Einen <a href="https://en.wikipedia.org/wiki/Object-relational_mapping" target="_blank">O/R-Mapper</a> für Datenbankzugriffe
                    </li>
                    <li>
                        Die Möglichkeit, Nachrichten an einen Message Broker zu senden
                    </li>
                    <li>
                        Eine API zum Versand von E-Mails
                    </li>
                    <li>
                        Einen Timer zur Einplanung von Hintergrundaktivitäten
                    </li>
                    <li>
                        Und noch vieles mehr 🌠
                    </li>
                </ul>
            </article>
            <aside>
                <p>
                    Letztes Semester haben wir schon gesehen, dass es <a href="../../../webprog/4-servlet/http/#6">mehre Möglichkeiten</a> gibt,
                    den Serverteil einer Webanwendung in Java zu entwickeln. Der klassische Ansatz besteht darin, einen Webcontainer (Applikationsserver)
                    zu verwenden und die Anwendung in Form eines Webarchivs 📦 in diesem zum Laufen zu bringen. Dies hat den Vorteil, dass man sich
                    keine Gedanken über die „Infrastruktur” machen muss, da diese durch den Server bereits gegeben ist.¹ Zusätzlich kann man
                    innerhalb des Servers noch weitere Webanwendungen zum Laufen bringen und somit ein großes Webprojekt in kleine, übersichtliche
                    Teilanwendungen zerlegen. Was wir dabei noch nicht so sehr betont haben ist, dass Webcontainer zur Java Enterprise Edition gehören,
                    die ganz allgemein darauf abzielt, Client/Server-Anwendungen im Unternehmensumfeld zu entwickeln.
                </p>
                <p>
                    <small>
                        ¹ Microservices hingegen gehen meistens nach dem Prinzip „Put a Webserver In Your Application" bzw. „Bring Your Own Webserver”
                        vor. Sie verschmelzen quasi Webanwendung und Server in einem Javaprogramm, das dann wie andere Javaprogramme direkt gestartet
                        werden kann. In diesem Fall werden meistens andere APIs als die der Java Enterprise Edition genutzt.
                    </small>
                </p>
                <p>
                    Da das normale Java in seiner Langform „Java Standard Edition” (Java SE) heißt, könnte man auf die Idee kommen, dass die
                    Standard Edition eine Art kleines Java für den Desktop 🐁 und Java&nbsp;EE ein großes Java für den Server. 🐘 Tatsächlich ist
                    das aber nicht so. Java&nbsp;SE ist stattdessen einfach die Programmiersprache selbst, die wirklich immer benötigt wird,
                    und Java&nbsp;EE eine Sammlung zusätzlicher APIs² zur Entwicklung datenbasierter Webanwendungen und Informationssysteme.
                    Es handelt sich daher „nur” um eine Erweiterung der Java-Klassenbibliothek und keine Spracherweiterung. 💬
                </p>
                <p>
                    <small>
                        ² API = Application Programming Interface. Gemeint sind zusätzlich Interfaces, Klassen und Methoden, die nicht zum
                        Standardumfang von Java gehören.
                    </small>
                </p>
                <p>
                    Um die Verwirrung darüber hinaus noch komplett zu machen, gibt es gar keine Java Enterprise Edition. die man einfach herunterladen
                    und installieren könnte. Denn, wie für Java typisch, handelt es sich bei Java&nbsp;EE nur um eine Spezifikation, die im Rahmen des
                    <a href="https://de.wikipedia.org/wiki/Java_Community_Process" target="_blank">Java Community Process</a> als offener Standard
                    entwickelt wird und zu der es viele Implementierungen verschiedener Hersteller gibt. An dieser Stelle kommen dann auch die
                    Applikationsserver ins Spiel, da sie die Spezifikation umsetzen. Produkte wie
                    <a href="https://tomee.apache.org" target="_blank">Apache TomEE</a>³,
                    <a href="https://javaee.github.io/glassfish/" target="_blank">Oracle Glassfish</a> oder
                    <a href="http://www.wildfly.org/" target="_blank">RedHat Wildfly</a>
                    sind also alles Implementierungen der Java Enterprise Edition, die jeweils in Form eines eigenen Anwendungsservers daher kommen.
                    Sie alle können daher wie folgt genutzt werden:
                </p>
                <ul>
                    <li>
                        Als <b>Webserver</b> zur Entwicklung javabasierter Webanwendungen
                    </li>
                    <li>
                        Als <b>Backend-Server</b> für beliebige, verteilte Anwendungen, auch wenn diese keine Weboberfläche besitzen
                    </li>
                </ul>
                <p>
                    Denn neben einer reinen HTTP-Schnittstelle für Servlets haben sie noch folgende Technologien an Board 🚢, um eine möglichst breite
                    Konnektivität mit anderen Anwendungsservern und unterschiedlichsten Clients herzustellen. Sie ermöglich es, die fachlichen
                    Anwendungsklassen auf folgende Arten aufzurufen:
                </p>
                <ul>
                    <li>
                        Per entferntem Methodenaufruf
                    </li>
                    <li>
                        Als SOAP-Webservice
                    </li>
                    <li>
                        Als REST-Webservice
                    </li>
                    <li>
                        Als Nachrichtenempfänger über einen Message Broker
                    </li>
                </ul>
                <p>
                    Zusätzlich stellen sie, da es sich ja um eine anwendungsorientierte Middleware handelt, noch folgende Zusatzfunktionen zur
                    Verfügung, auf die wir beim Programmieren zugreifen können:
                </p>
                <ul>
                    <li>
                        Verschiedene Arten der Benutzerverwaltung (Datenbankbasiert, LDAP, …)
                    </li>
                    <li>
                        Ein rollenbasiertes Berechtigungskonzept
                    </li>
                    <li>
                        Einen <a href="https://en.wikipedia.org/wiki/Object-relational_mapping" target="_blank">O/R-Mapper</a> für Datenbankzugriffe
                    </li>
                    <li>
                        Die Möglichkeit, Nachrichten an einen Message Broker zu senden
                    </li>
                    <li>
                        Eine API zum Versand von E-Mails
                    </li>
                    <li>
                        Einen Timer zur Einplanung von Hintergrundaktivitäten
                    </li>
                    <li>
                        Und noch vieles mehr 🌠
                    </li>
                </ul>
                <p>
                    Tatsächlich also, alles was das Herz begehrt 💖, was die Java Enterprise Edition gleichzeitig aber auch sehr groß
                    und leider auch ressourcenhungrig macht.
                </p>
            </aside>
        </section>

        <section>
            <h1>Aufbau eines Applikationsservers</h1>
            <article>
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md">
                            <img src="appserver-aufbau.png" alt="Interne Bestandteile eines Java-Applikationsservers" class="d-block" style="width: 100%; margin-bottom: 2em;" />
                        </div>
                    </div>

                    <!-- Webprogrammierung -->
                    <div class="row">
                        <div class="col-md">
                            <h2>Webprogrammierung</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h4>Servlets</h4>
                            Grundlegende Klassenbibliothek zur Reaktion auf HTTP-Anfragen. Es handelt sich dabei um
                            die Basistechnologie, die allen höheren Webframeworks für Java&nbsp;EE zugrunde liegt.
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Java Server Pages</h4>
                            Serverseitige Erweiterung von HTML. Erlaubt es, Teile der Seite dynamisch auf dem Server
                            zu erzeugen, bevor sie an den Browser geschickt wird.
                        </div>
                        <div class="col-md-6">
                            <h4>Java Server Faces</h4>
                            Von Oracle entwickeltes, mit Java EE ausgeliefertes Webframework. Nutzt eine an HTML
                            angelehnte Beschreibungssprache zur Definition des Layouts.
                        </div>
                    </div>

                    <!-- Anwendungslogik -->
                    <div class="row">
                        <div class="col-md">
                            <h2>Anwendungslogik</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Enterprise Java Beans</h4>
                            Spezielle Laufzeitumgebung für die fachlichen Klassen einer Anwendung. Sie ermöglichen es,
                            Services zu definieren, die von lokalen und entfernten Clients genutzt werden können.
                        </div>
                        <div class="col-md-6">
                            <h4>Java Database Connection</h4>
                            Allgemeine Klassenbibliothek für den Zugriff auf SQL-Datenbanken. Sie bildet die Grundlage
                            für JPA und JTA und wird heutzutage selten direkt genutzt.
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Java Persistence API</h4>
                            O/R-Mapper zur Vereinfachung des Datenbankzugriffes. Die Feöder einer Tabelle werden
                            automatisch auf die Attribute einer Javabean gemappt.
                        </div>
                        <div class="col-md-6">
                            <h4>Java Transaction API</h4>
                            Framework für von der Datenbank unabhängige, verteilte Transaktionen.
                        </div>
                    </div>

                    <!-- Schnittstellen -->
                    <div class="row">
                        <div class="col-md">
                            <h2>Schnittstellen</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Java API for XML-Webservices</h4>
                            Klassenbibliothek zum Erstellen und Aufrufen von SOAP-Webservices.
                        </div>
                        <div class="col-md-6">
                            <h4>Java API for REST-Webservices</h4>
                            Klassenbibliothek zum Erstellen und Aufrufen von REST-Webservices.
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Java Message Services</h4>
                            Klassenbibliothek für den Zugriff auf einen Message Broker.
                        </div>
                        <div class="col-md-6">
                            <h4>Java Mail API</h4>
                            Hilfsklassen zum Versenden von E-Mails.
                        </div>
                    </div>

                    <!-- Sonstiges -->
                    <div class="row">
                        <div class="col-md">
                            <h2>Sonstiges</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md">
                            <h4>Java Authentication &amp; Authorization Service</h4>
                            Rollenbasierte Benutzer- und Berechtigungsverwaltung. Erlaubt es, die Benutzer entweder in einer
                            Datenbanktabelle abzulegen oder auf externe Provider, wie zum Beispiel LDAP-Verzeichnisse,
                            zuzugreifen.
                        </div>
                    </div>
                </div>

            </article>
            <aside>
                <p>
                    Ein einfachsten lässt sich der Aufbau eines Anwendungsservers verstehen, indem man sich vor Augen hält,
                    dass es sich dabei im Grunde genommen um nichts anderes als ein gewöhnliches Javaprogramm handelt,
                    das zwar schon sehr viele Funktionen enthält, von sich aus aber noch gar nichts nützliches macht. 🛋️
                    Als Programmierer muss man dem Programm erst noch die gewünschten Features hinzufügen, indem man hierfür
                    entsprechende Klassen schreibt und innerhalb des Applikationsservers zum Laufen bringt,m wofür folgende
                    Begriffe wichtig zu verstehen sind:
                </p>
                <dl>
                    <dt>
                        Softwarekomponente
                    </dt>
                    <dd>
                        <p>
                            Manche Quellen sprechen im Zusammenhang mit Java&nbsp;EE von einer komponentenbasierten Architektur
                            und nennen die zu erstellenden Klassen auch Softwarekomponenten. Damit soll zum Ausdruck gebracht werden,
                            dass jede Klasse folgende Eigenschaften erfüllen muss:
                        </p>
                        <ul>
                            <li>
                                <b>In sich geschlossen:</b> Die Klasse soll einen funktionalen Teilbereich der Anwendung
                                abdecken und alle hierfür benötigten Methoden enthalten.
                            </li>
                            <li>
                                <b>Nur lose gekoppelt:</b> Die Klasse sollte so wenig wie möglich von den anderen Klassen
                                der Anwendung abhängen. Idealerweise ist jede Klasse für sich genommen alleine lauffähig.
                            </li>
                            <li>
                                <b>Wiederverwendbar:</b> Die Klasse soll möglichst allgemeingültig gehalten werden, so
                                dass sie auch in anderen Anwendungen mit ähnlichen Anforderungen einsetzbar ist.
                            </li>
                            <li>
                                <b>Austauschbar:</b> Die Methoden der Klasse sollen in einem von der Klasse getrennten
                                Interface definiert werden und alle Verwender der Klasse sollen nur gegen das Interface
                                programmiert werden. Somit kann die implementierende Klasse später jederzeit ersetzt werden.
                            </li>
                        </ul>
                    </dd>

                    <dt>
                        Container
                    </dt>
                    <dd>
                        <p>
                            Softwarekomponenten benötigen immer eine Laufzeitumgebung (auch Container genannt), in der sie ausgeführt
                            werden können, wobei sich der Container mindestens um die Erzeugung der Objektinstanzen kümmert. Der
                            Container kann daher vorschreiben, dass eine Klasse ein bestimmtes Interface implementieren, bestimmte
                            Methoden beinhalten oder bestimmte Annotationen verwenden muss. Dadurch wird der Container in die Lage
                            versetzt, zum richtigen Zeitpunkt die benötigten Objektinstanzen zu erzeugen und ihre Methoden aufzurufen.
                        </p>
                    </dd>

                    <dt>
                        Deployment
                    </dt>
                    <dd>
                        <p>
                            Dies ist der Vorgang, beidem alle Klassen einer Anwendung zu einem Archiv verpackt und an den Server
                            übergeben werden. Hierfür muss das Archiv, das natürlich einen vorgeschriebenen Aufbau besitzen muss, in
                            aller Regel nur in ein hierfür vorgesehenes Verzeichnis kopiert werden, damit der Server es erkennt.
                        </p>
                    </dd>
                </dl>

                <p>
                    Die selbst zu entwickelnden Klassen lassen sich wiederum in folgende Kategorien einteilen:
                </p>
                <ul>
                    <li>
                        🌍 <b>Servlets und JSP</b> laufen innerhalb des Webcontainers und dienen dazu, auf HTTP-Anfragen zu reagieren
                        bzw. eine Weboberfläche zu entwickeln.
                    </li>
                    <li>
                        ⚙️ <b>Enterprise Java Beans</b> wiederum kapseln die fachliche Logik der Anwendung, unabhängig davon, wie
                        die Funktionen in der Benutzeroberfläche aussehen werden. Mit Hilfe von EJBs werden daher einfach nur
                        Services definiert, die von den verschiedenen Clients aufgerufen werden können. Technisch geshen wird
                        dabei zwischen <b>Stateless Session Beans</b>, <b>Stateful Session Beans</b> und <b>Message Driven Beans</b>
                        unterschieden. Was das ist schauen wir uns allerdings erst weiter hinten an.
                    </li>
                    <li>
                        🛢 <b>Persistence Entities</b> dienen schließlich dem Lesen und Schreiben von Daten in einer Datenbank.
                        Die Entities sind hierfür als gewöhnliche Javabeans definiert, deren Objekte immer einer Zeile in
                        einer Tabelle entsprechen.
                    </li>
                </ul>
                <p>
                    Das Grobgerüst einer Java-Enterprise-Anwendung könnte daher so aussehen:
                </p>
                <source-code language="java">
                    // Servlet
                    // Gehört zur Weboberfläche der Anwendung
                    public class ShoppingCartServlet extends HttpServlet {
                        @EJB
                        ShoppingCartBean shoppingCart;

                        public void doGet(…) { … }
                        public void doPost(…) { … }
                    }

                    // Enterprise Java Bean
                    // Beinhaltet die fachlichen Funktionen
                    @Stateles
                    public class ShoppingCartBean {
                        public List&lt;Article&gt; getContent() { … }
                        public void addArticle(int id, int amount) { … }
                        public void removeArticle(int id) { … }
                        public void checkout() { … }
                    }

                    // Persistence Entity
                    // Definiert eine Datenbanktabelle
                    @Entity
                    public class Article {
                        @Id
                        @GeneratedValue
                        long id;

                        String name;
                        …

                        public void setId(long id) { … }
                        public long getId() { … }
                        public void setName(String name) { … }
                        public String getName() { … }
                    }
                </source-code>
                <p>
                    Wie du siehst, ist das gar nicht so kompliziert, auch wenn wir uns hier noch nicht um die
                    Einzelheiten kümmern wollen. Zumindest kann man aber schon erkennen, dass eine klare
                    Aufgabenteilung zwischen den Klassen zu herrschen scheint. Abschließend bleibt hier dann
                    nur noch zu sagen, dass Java&nbsp;EE eine ganze Reihe von APIs definiert, auf die innerhalb
                    der Klassen zugegriffen werden kann. Welche das sind, siehst du auf der Folie.
                </p>
            </aside>
        </section>

        <section>
            <h1>Fallbeispiele für Java auf dem Server</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "fallbeispiele-pos-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#fallbeispiele-pos"
                                role          = "tab"
                                aria-controls = "fallbeispiele-pos"
                                aria-expanded = "true"
                            >
                                Point-Of-Sale
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "fallbeispiele-reiseportal-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#fallbeispiele-reiseportal"
                                role          = "tab"
                                aria-controls = "fallbeispiele-reiseportal"
                            >
                                Reiseportal
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content border border-top-0 bg-white" style="padding: 1em;">
                        <!-- Point-Of-Sale -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "fallbeispiele-pos"
                            role            = "tabpanel"
                            aria-labelledby = "fallbeispiele-pos-tab"
                        >
                            <p>
                                Im Unternehmensumfeld geht es häufig darum, mit unterschiedlichen Endgeräten eine gemeinsame Datenbasis zur
                                Dokumentation aller Geschäftsvorgänge zu pflegen. Anwendungen wie diese besitzen daher ein ausgefeiltes Datenmodell
                                und darauf aufbauend sehr viele Services, welche die Geschäftsprozesse des Unternehmens abbilden. Das Datenmodell
                                wird dabei durch die <b>Persistence Entity</b>-Klassen modelliert, während die Services in <b>Enterprise Java Beans</b>
                                enthalten sind. Fremde Clientprogramme können die EJBs über Rechnergrenzen hinweg direkt aufrufen. Innerhalb des
                                Applikationsservers stehen sie aber auch zur Nutzung in Webanwendungen zur Verfügung.
                            </p>
                            <img src="fallbeispiel-pos.jpg" alt="Architekturskizze einer Point-Of-Sale-Anwendung" class="d-block" style="width: 100%; margin-bottom: 1em;" />
                            <p>
                                <small>
                                    <small>
                                        Bildnachweise:
                                        <a href="https://de.wikipedia.org/wiki/Datei:Quorion_concerto.jpg" target="_blank">Wikipedia: Tokaito</a>,
                                        <a href="https://pixabay.com/en/isolated-money-euro-cash-finance-3118531/" target="_blank">Pixabay: Snap_it</a>,
                                        <a href="https://pixabay.com/en/imac-computer-apple-mac-calculator-1999642/" target="_blank">Pixabay: Nick_H</a>,
                                        <a href="https://pixabay.com/en/gps-navigation-garmin-yellow-295077/" target="_blank">Pixabay: Clker-Free-Vector-Images</a>,
                                        <a href="https://pixabay.com/en/wireless-signal-icon-image-vector-1119306/" target="_blank">Pixabay: Samuel1983</a>
                                    </small>
                                </small>
                            </p>
                        </div>
                        <!-- Reiseportal -->
                        <div
                            class           = "tab-pane fade"
                            id              = "fallbeispiele-reiseportal"
                            role            = "tabpanel"
                            aria-labelledby = "fallbeispiele-reiseportal-tab"
                        >
                        <p>
                            Dieses Beispiel zeigt ein großes Webportal mit mehreren, von der restlichen Anwendungslogik entkoppelten Webfrontends.
                            Zur besseren Skalierung wurden sie in einem eigenen <b>Webcontainer</b> genannten Anwendungsserver deployed.
                            Zusätzlich werden die Dienste fremder Anbieter per Webserviceaufruf in das Portal integriert.
                        </p>
                        <p style="line-height: 1; margin-bottom: 1em;">
                            <small>
                                <small>
                                    ¹ Vollwertige Java&nbsp;EE-Applikationsserver bestehen im Grunde genommen aus nichts anderem als einem
                                    Webcontainer und einem EJB-Container, wobei der Webcontainer die Servlet- und webbezogenen APIs zur
                                    Verfügung stellt und der EJB-Container den Rest. Wenn man aber weiß, dass man die mit dem EJB-Container
                                    vorausgelieferten Klassen nicht nutzen will, weil man sie nicht braucht oder weil man sich nicht darauf
                                    verlassen will, dass der Server die richtigen Versionen bereitstellt, kann man auch nur einen Webcontainer
                                    installieren.
                                </small>
                            </small>
                        </p>
                        <img src="fallbeispiel-reiseportal.jpg" alt="Architekturskizze eines großen Reiseportals" class="d-block" style="width: 100%; margin-bottom: 1em;" />
                        <p>
                            <small>
                                <small>
                                    Bildnachweise:
                                    <a href="https://pixabay.com/en/computer-laptop-blank-empty-screen-3036166/" target="_blank">Pixabay: www_slon_pics</a>,
                                    <a href="https://pixabay.com/en/polynesia-french-polynesia-tahiti-3021072/" target="_blank">Pixabay: Julius_Silver</a>,
                                    <a href="https://pixabay.com/en/tropical-sunset-summer-beach-sunset-1651426/" target="_blank">Pixabay: TheDigitalArtist</a>,
                                    <a href="https://pixabay.com/en/train-railway-s-bahn-transport-797072/" target="_blank">Pixabay: Didgeman</a>,
                                    <a href="https://pixabay.com/en/transportation-system-vehicle-3064387/" target="_blank">Pixabay: joe137</a>,
                                    <a href="https://pixabay.com/en/hotel-room-bed-pillows-room-hotel-1447201/" target="_blank">Pixabay: Olichel</a>
                                </small>
                            </small>
                        </p>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Auf dieser Folie siehst du zwei typische Anwendungsbeispiele für die Java Enterprise Edition: Eine Geschäftsanwendung,
                    wie sie als interne Anwendung in einem Supermarkt betrieben werden könnte sowie ein großes Webportal mit mehreren
                    Frontends und Schnittstellen zu externen Webserviceanbietern. In beiden Fällen eignet sich die Java Enterprise Edition
                    aufgrund folgender Eigenschaften besonders gut:
                </p>
                <ul>
                    <li>
                        <b>Persistence Entities:</b> Dank der Java Persistence API kann mit einfachen Beanklassen ein ausgefeiltes Datenmodell
                        realisiert werden, bei dem Java automatisch die Objekte dieser Klassen in der Datenbank ablegen und von dort wieder
                        rausholen kann. Ebenso unterstützt Java eine mächtige Anfragesprache, mit der relativ einfach auch komplexe Suchen auf
                        der Datenbank ausgeführt werden können.
                    </li>
                    <li>
                        <b>Enterprise Java Beans:</b> Sämtliche Geschäftsvorgänge lassen sich losgelöst von ihrer späteren Darstellung sowie
                        ihrer späteren Verwender in einfachen Beanklassen implementieren. Die Klassen sind dabei so flexibel, dass ihre Methoden
                        aus einer internen Webanwendung heraus, per Webservice oder per entferntem Methodenaufruf aufrufbar sind.
                    </li>
                    <li>
                        <b>Message Driven Beans:</b> Über den Applikationsserver können auch Nachrichten an einen externen Message Broker
                        gesendet und von diesem abgerufen werden.
                    </li>
                    <li>
                        <b>Webcontainer:</b> Jeder Applikationsserver beinhaltet bereits einen Webcontainer, in dem neben statischen Webseiten
                        auch in javabasierte Webanwendungen ausführbar sind.
                    </li>

                    <li>
                        <b>Webservices:</b> Mit der Java Enterprise Edition können sowohl fremde Webservices aufgerufen als auch eigene Webservices
                        angeboten werden. Für die Erstellung der Webservices müssen hierfür nur eine Hand voll Annotationen in die vorhandenen
                        EJBs aufgenommen werden.
                    </li>
                    <li>
                        <b>Flexibles Deployment:</b>
                        Das Deployment von Java&nbsp;EE ist so flexibel, dass entweder alle Bestandteile einer Anwendung in einem gemeinsamen
                        oder einem getrennten Applikationsserver zum Laufen gebracht werden können. Falls die Anwendung sauber programmiert
                        wurde, sind hierfür keine Änderungen an der Software erforderlich.
                    </li>
                </ul>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 1: Ein kleines Java-EE-Quiz</h1>
            <article>
                …
                <!--
                    Zu welcher Middlewareart zählt die Java Enterprise Edition? (komm. / anwend.)
                    Wo gibt es die Java Enterprise Edition zum Herunterladen? (Bei Oracle dem Entwickler von Java, Bei Microsoft aber nur für Windows, Bei den Herrstellern der Appserver, Gar nicht es ist im normalen Java enthalten)
                    Welche der folgenden Schnittstellen bietet ein typischer Java-Anwendungsserver? (RPC, SOAP, REST, HTTP)?
                    Eigenschaften von Komponenten
                    Was bedeutet, dass eine Komponente möglichst wiederverwendbar sein soll?
                -->
            </article>
            <aside>
                <p>
                    Okay, so viel haben wir bis jetzt noch gar nicht gelernt. Trotzdem wollen wir
                    mal sehen, ob du dir alles gemerkt hast. 🎭
                </p>
            </aside>
        </section>

        <!--
            ===========================
            MVC-WEBANWENDUNGEN MIT JAVA
            ===========================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>MVC-Webanwendungen mit Java</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Welche Aufgaben übernimmt der Server?</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "webanwendungen-serverseitig-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#webanwendungen-serverseitig"
                                role          = "tab"
                                aria-controls = "webanwendungen-serverseitig"
                                aria-expanded = "true"
                            >
                                Alles auf dem Server
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "webanwendungen-clientseitig-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#webanwendungen-clientseitig"
                                role          = "tab"
                                aria-controls = "webanwendungen-clientseitig"
                            >
                                Der Server als Funktionsbibliothek
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content border border-top-0 bg-white" style="padding: 1em;">
                        <!-- Alles auf dem Server -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "webanwendungen-serverseitig"
                            role            = "tabpanel"
                            aria-labelledby = "webanwendungen-serverseitig-tab"
                        >
                            <img src="webanwendung-serverseitig.png" class="d-block" style="width: 100%; margin-bottom: 1em;" />
                            <ul>
                                <li>
                                    <b class="dhbw-lightblue">Der Klassiker:</b> Die Anwendungslogik liegt komplett auf dem Server.
                                </li>
                                <li>
                                    JavaScript kommt im Browser wenn überhaupt nur sehr sparsam zum Einsatz.
                                </li>
                                <li>
                                    Stattdessen führt jede Aktion dazu, dass eine neue Seite vom Server geladen wird.
                                </li>
                                <li>
                                    Der Server führt dabei die Anwendungslogik aus und generiert das anzuzeigende HTML.
                                </li>
                            </ul>
                            <p style="color: darkred">
                                Das schauen wir uns heute etwas genauer an.
                            </p>
                        </div>
                        <!-- Der Server als Funktionsbibliothek -->
                        <div
                            class           = "tab-pane fade"
                            id              = "webanwendungen-clientseitig"
                            role            = "tabpanel"
                            aria-labelledby = "webanwendungen-clientseitig-tab"
                        >
                            <img src="webanwendung-clientseitig.png" class="d-block" style="width: 100%; margin-bottom: 1em;" />
                            <ul>
                                <li>
                                    <b class="dhbw-lightblue">Das Beste beider Welten:</b> Browser und Server beinhalten je einen Teil der Anwendungslogik.
                                </li>
                                <li>
                                    Der initiale HTML-Code kann vom Server generiert werden oder in einer einfachen HTML-Datei liegen.
                                </li>
                                <li>
                                    Bei verschiedenen Aktionen werden mit JavaScript weitere Daten mit dem Server ausgetauscht.
                                </li>
                                <li>
                                    Die empfangenen Daten werden dabei durch geschickte DOM-Manipulation sichtbar gemacht.
                                </li>
                            </ul>
                            <p style="color: darkred">
                                Dieses Modell behandeln im Kapitel über REST-Webservices.
                            </p>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Um dir einen kurzen Überblick zu geben, womit wir uns im folgenden nun beschäftigen werden, haben wir hier
                    nochmal die zwei Arten zusammengefasst, wie die serverseitige Logik einer Webanwendung realisiert werden kann.
                    Dabei läuft es im Wesentlichen auf die Frage hinaus, ob die fachlichen Anwendungsfunktionen untrennbar mit dem
                    Rest der Anwendung verschmolzen sind oder ob beide Teile unabhängig voneinander existieren können. Insbesondere
                    steht dabei die Frage im Raum, ob der angezeigte HTML-Code bereits auf dem Server oder erst im Browser generiert
                    wird und ob die Fachfunktionen auch für andere Clients zur Verfügung stehen.
                </p>
                <ul>
                    <li>
                        <b>Rein serverseitige Webanwendungen:</b> In klassischen Webanwendungen liegt die komplette Logik auf dem
                        Server und auch der HTML-Code wird komplett auf dem Server generiert. Dies liegt darin begründet, dass
                        Javascript in früheren Browsern längst nicht so leistungsfähig wie heute war und es viele Inkompatiblitäten
                        zwischen den Browsern gab.
                    </li>
                    <li>
                        <b>Clientseitige Webanwendungen mit Backendserver:</b> Moderne Webanwendungen sehen eine strikte Trennung
                        zwischen den fachlichen Funktionen auf dem Server und der Benutzeroberfläche im Browser vor. Technisch
                        gesehen handelt es sich daher um zwei getrennte Anwendungen, die losgelöst voneinander häufig auch von
                        unterschiedlichen Teams entwickelt werden. Der Server bietet hierfür eine Reihe von Webservices, die der
                        Browser bei Bedarf aufrufen kann.
                    </li>
                </ul>
                <p>
                    Auch wenn hier von klassischen und modernen Webanwendungen die Rede ist, haben beide Arten ihre jeweiligen
                    Vor- und Nachteile, so dass es falsch wäre, sich pauschal auf eine davon zu versteifen. Klassische Webanwendungen
                    haben den Vorteil, dass sie einfach zu entwickeln sind, schnell zu guten Ergebnissen führen und auch von einem
                    kleinen Team betreut werden können. Nachteilig daran ist, dass die Fachfunktionen meist sehr eng mit der Anwendung
                    verflochten sind und, da der Browser sehr häufig eine neue Seite vom Server laden muss, die Performance nicht so
                    gut wie bei rein clientseitigen Anwendungen ist. Moderne Webanwendungen mit getrenntem Serverbackend haben diese
                    Nachteile nicht, jedoch sind sie aufwändiger in der Entwicklung, sowohl was den Browserteil angeht als auch die
                    Webservice-Schnittstelle zur Kapselung der fachlichen Logik.
                </p>
                <p>
                    In diesem Kapitel schauen wir uns nur rein serverseitige Webanwendungen an. Später bei den REST-Webservices kommen
                    wir dann auch auf die andere Art zurück.
                </p>
            </aside>
        </section>

        <section>
            <h1>Alle guten Dinge sind drei: Model, View &amp; Controller</h1>
            <article>
                <div class="container-fluid">
                    <!-- Model, View, Controller -->
                    <div class="row">
                        <div class="col-md">
                            <div class="img-thumbnail" style="padding: 0.5em; height: 100%; display: flex; flex-direction: column;">
                                <h2>Model</h2>
                                <ul>
                                    <li>
                                        Enterprise Java Beans
                                    </li>
                                    <li>
                                        Persistence Entities
                                    </li>
                                </ul>
                                <div style="flex: 1;"></div>
                                <p>
                                    Kapseln die fachliche Logik und das Datenmodell.
                                </p>
                                <img src="mvc-bilder-model.jpg" alt="" class="d-block" style="width: 100%;" />
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="img-thumbnail" style="padding: 0.5em; height: 100%; display: flex; flex-direction: column;">
                                <h2>View</h2>
                                <ul>
                                    <li>
                                        HTML, CSS, JS-Dateien
                                    </li>
                                    <li>
                                        Java Server Pages
                                    </li>
                                </ul>
                                <div style="flex: 1;"></div>
                                <p>
                                    Übernehmen die Darstellung auf dem Bildschirm.
                                </p>
                                <img src="mvc-bilder-view.jpg" alt="" class="d-block" style="width: 100%;" />
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="img-thumbnail" style="padding: 0.5em; height: 100%; display: flex; flex-direction: column;">
                                <h2>Controller</h2>
                                <ul>
                                    <li>
                                        Servlets
                                    </li>
                                </ul>
                                <div style="flex: 1;"></div>
                                <p>
                                    Reagieren auf HTTP-Anfragen und vermitteln zwischen
                                    Model und View.
                                </p>
                                <img src="mvc-bilder-controller.jpg" alt="" class="d-block" style="width: 100%;" />
                            </div>
                        </div>
                    </div>

                    <!-- Karusell mit dem schematischen Ablauf -->
                    <div class="row">
                        <div class="col-md">
                            <ul class="dhbw-carousel-links">
                                <li>
                                    <a href="#mvc-carousel" role="button" data-slide="next">Nächstes Bild</a>
                                </li>
                                <li>
                                    <a href="#mvc-carousel" role="button" data-slide="prev">Vorheriges Bild</a>
                                </li>
                                <li>
                                    <a href="#mvc-carousel" role="button" data-slide-to="0">Nochmal von vorne</a>
                                </li>
                            </ul>
                            <div id="mvc-carousel" class="carousel" data-interval="false">
                                <div class="carousel-inner">
                                    <div class="carousel-item img-thumbnail active">
                                        <p>
                                            Schauen wir uns an, wie Model, View und Controller beim Aufruf einer Webseite zusammenarbeiten.
                                            Hierfür gibt der Anwender eine URL ein und schickt die Anfrage ab.
                                        </p>
                                        <img class="active d-block w-100" src="mvc-ablauf-01.png" />
                                    </div>
                                    <div class="carousel-item img-thumbnail">
                                        <p>
                                            Anhand der URL ermittelt der Server ein <b>Servlet</b>, das die Anfrage bearbeitet.
                                        </p>
                                        <img class="active d-block w-100" src="mvc-ablauf-02.png" />
                                    </div>
                                    <div class="carousel-item img-thumbnail">
                                        <p>
                                            Da das Servlet keine fachliche Logik enthalten darf, ruft es eine oder mehrere <b>Enterprise Java Beans</b> auf,
                                            die die eigentliche Arbeit erledigen.
                                        </p>
                                        <img class="active d-block w-100" src="mvc-ablauf-03.png" />
                                    </div>
                                    <div class="carousel-item img-thumbnail">
                                        <p>
                                            Die Enterprise Java Beans wiederum nutzen <b>Persistence Entities</b>, um Daten aus der Datenbank zu
                                            lesen oder zu schreiben.
                                        </p>
                                        <img class="active d-block w-100" src="mvc-ablauf-04.png" />
                                    </div>
                                    <div class="carousel-item img-thumbnail">
                                        <p>
                                            Das Servlet legt die eben erhaltenen Daten im <b>Request Context</b> ab und leitet die Anfrage
                                            an eine <b>Java Server Page</b> weiter.
                                        </p>
                                        <img class="active d-block w-100" src="mvc-ablauf-05.png" />
                                    </div>
                                    <div class="carousel-item img-thumbnail">
                                        <p>
                                            Die Java Server Page wiederum generiert den HTML-Code, der an den Browser geschickt wird.
                                        </p>
                                        <img class="active d-block w-100" src="mvc-ablauf-06.png" />
                                    </div>
                                    <div class="carousel-item img-thumbnail">
                                        <p>
                                            Der Browser zeigt die empfangene Seite an und der Anwender freut sich. 😊
                                        </p>
                                        <img class="active d-block w-100" src="mvc-ablauf-07.jpg" />
                                    </div>
                                    <div class="carousel-item img-thumbnail">
                                        <p>
                                            Auf der nächsten Folie zeigen wir dir, wie der Quellcode hierfür aussehen muss. ⌨️
                                        </p>
                                        <img class="active d-block w-25 m-auto" src="../../finish.svg" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bildnachweise -->
                    <div class="row">
                        <div class="col-md">
                            <small>
                                <small>
                                    Bildnachweise:
                                    <a href="https://pixabay.com/en/coffee-espresso-caffeine-the-drink-3132755/" target="_blank">Pixabay: fotostrobi</a>,
                                    <a href="https://pixabay.com/en/brushes-painter-work-shop-bowl-3129361/" target="_blank">Pixabay: Skitterphoto</a>,
                                    <a href="https://pixabay.com/en/pug-puppy-dog-animal-cute-690566/" target="_blank">Pixabay: Free-Photos</a>,
                                    <a href="https://pixabay.com/en/browser-internet-tab-new-tab-1666995/" target="_blank">Pixabay: JuralMin</a>,
                                    <a href="https://pixabay.com/en/pegasus-horse-winged-mythology-586124/" target="_blank">Pixabay: Stevebidmead</a>,
                                    <a href="https://pixabay.com/en/symbol-gui-internet-internet-page-2480163/" target="_blank">Pixabay: janf93</a>
                                </small>
                            </small>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Bei der Webentwicklung hat sich in besonderem Maße die Strukturierung einer Anwendung nach dem
                    <a href="https://de.wikipedia.org/wiki/Model_View_Controller" target="_blank">Model-View-Controller</a>-Ansatz
                    etabliert, so dass heute beinahe jede Webanwendung nach diesem Muster aufgebaut ist. So ist es kein Wunder, dass
                    auch fast jedes Webframework mit MVC wirbt, obwohl die Meinungen darüber, was zum Model, zur View oder zum Controller
                    gehört, doch schon sehr auseinander gehen. 🙄 Interessant dabei ist jedoch, dass das Konzept gar nicht für das Web
                    entwickelt wurde, sondern bereits 1979 am <a href="Xeroc PARC https://de.wikipedia.org/wiki/Xerox_PARC" target="_blank">Xerox PARC</a>
                    für die Programmiersprache <a href="https://de.wikipedia.org/wiki/Smalltalk_(Programmiersprache)" target="_blank">Smalltalk</a>
                    und den <a href="https://de.wikipedia.org/wiki/Xerox_Alto" target="_blank">Xeror Alto</a>-Computer¹, der allgemein als
                    der erste Computer mit grafischer Benutzeroberfläche, Desktop und Maus 🖱️ gilt, erfunden wurde.
                </p>
                <p>
                    <small>
                        ¹ Eine schöne Beschreibung des Xerox Alto mit vielen Bildern gibt es auf der Seite des
                        <a href="http://www.computerhistory.org/revolution/input-output/14/347" target="_blank">Computer History Museum</a>.
                        Auf <a href="https://www.youtube.com/watch?v=M0zgj2p7Ww4" target="_blank">Youtube</a> gibt es darüber hinaus auch
                        einen kurzen Werbefilm, der unter anderem auch eine frühe Form der E-Mail zeigt. Weitere Erfindungen am PARC waren
                        Ethernet, der Laserdrucker, Postscript, WYSIWYG und das Notebook.
                    </small>
                </p>
                <p>
                    Um zu verstehen, wie sich MVC entwickelt hat, muss man wissen, dass die frühen Computer längst nicht so weit entwickelt
                    waren wie heute. Damals konnte man mit sehr viel Programmierarbeit lediglich einzelne Pixel auf den Bildschirm zeichnen
                    oder den Status von Tastatur und Maus abfragen. Selbst einfache Benutzeroberflächen mussten daher sehr aufwändig und mit
                    teilweise sehr undurchsichtigem Code entwickelt werden. Fertige Widget Libraries wie heute gab es damals noch nicht.
                    Um daher etwas mehr Ordnung in das Chaos zu bringen, teilte man den Quellcode zur Erzeugung eines einfachen UI-Elements
                    (zum Beispiel eines Eingabefelds) in drei Teile auf:
                </p>
                <ul>
                    <li>
                        Das <b>Model</b>, welches die darzustellenden Daten enthält,
                    </li>
                    <li>
                        Die <b>View</b>, welche die Daten irgendwie auf den Bildschirm bringt,
                    </li>
                    <li>
                        Sowie den <b>Controller</b>, der Tastatur und Maus abfrägt, daraufhin das Model aktualisiert und die View beauftragt, sich neu zu zeichnen.
                    </li>
                </ul>
                <p>
                    Die drei Einheiten gehören dabei immer zusammen, so wie die drei Schichten eines Doppelkeks: 🍪
                </p>
                <img src="doppelkeks.jpg" alt="Doppelkekse zur Verdeutlichung des MVC-Ansatzes" class="d-block" style="width: 100%; margin: 0 auto;" />
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://commons.wikimedia.org/wiki/File:Leibniz_Pick-Up_4.jpg" target="_blank">Wikimedia Commons: SKopp</a>
                    </small>
                </p>
                <p>
                    Da die Programmierung heutiger Anwendungen nicht mehr so mühselig ist, werden die Begriffe Model, View und Controller
                    heutzutage etwas allgemeiner ausgelegt:
                </p>
                <ul>
                    <li>
                        <b>Model:</b> Manche Autoren verstehen hierunter das Datenmodell und somit einfach die Daten einer Anwendung.
                        Im erweiterten Sinne macht es jedoch mehr Sinn, sämtliche fachlichen Aufgaben einer Anwendung hierunter zu verstehen.
                    </li>
                    <li>
                        <b>View:</b> Die View ist nach wie vor für die Darstellung auf dem Bildschirm zuständig, wobei heute natürlich
                        viel komfortablere Möglichkeiten zur Verfügung stehen.
                    </li>
                    <li>
                        <b>Controller:</b> Er ist die Schokolade, die Model und View zusammenhält. Der Controller kümmert sich daher um
                        die Vermittlung zwischen View und Model, indem er zum richtigen Zeitpunkt die richtigen Methoden aufruft.
                    </li>
                </ul>
                <p>
                    Hinzu kommt, dass keine Abhängigkeiten vom Model zur View oder dem Controller bestehen dürfen. Das Model stellt lediglich
                    Funktionen bereit, die von den anderen beiden Schichten aufgerufen werden, um somit die Möglichkeit offen zu halten,
                    später weitere Benutzeroberflächen mit demselben Model zu entwickeln. Umgekehrt ist es jedoch oftmals erlaubt, dass die
                    View direkt auf das Model zugreift.
                </p>
                <p>
                    Soweit die Theorie. Bezogen auf Webanwendungen mit Java heißt das folgendes:
                </p>
                <ul>
                    <li>
                        <b>Enterprise Java Beans</b> und <b>Persistence Entities</b> kapsel die fachliche Logik einer Webanwendung und
                        bilden daher das Model.
                    </li>
                    <li>
                        <b>Java Server Pages</b> und <b>HTML</b> dienen der Darstellung und bilden daher die View.
                    </li>
                    <li>
                        <b>Servlets</b> reagieren auf alle HTTP-Anfragen und sorgen dafür, dass das Model und die View zum richtigen
                        Zeitpunkt aufgerufen werden. Sie sind daher die Controller.
                    </li>
                </ul>
                <p>
                    In welcher Reihenfolge daher was passiert, siehst du auf der Folie. Generell handelt es sich dabei aber um denselben
                    Ablauf, den wir bereits in <a href="../../../webprog/4-server/servlets/#2" target="_blank">Webprogrammierung</a>
                    kennengelernt haben.
                </p>
            </aside>
        </section>

        <section>
            <h1>Beispiel: MVC mit Servlets und JSP</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "mvc-beispiel-netbeans-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#mvc-beispiel-netbeans"
                                role          = "tab"
                                aria-controls = "mvc-beispiel-netbeans"
                                aria-expanded = "true"
                            >
                                Netbeans-Projekt
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "mvc-beispiel-entity-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#mvc-beispiel-entity"
                                role          = "tab"
                                aria-controls = "mvc-beispiel-entity"
                                aria-expanded = "true"
                            >
                                Entity
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "mvc-beispiel-ejb-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#mvc-beispiel-ejb"
                                role          = "tab"
                                aria-controls = "mvc-beispiel-ejb"
                                aria-expanded = "true"
                            >
                                EJB
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "mvc-beispiel-servlet-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#mvc-beispiel-servlet"
                                role          = "tab"
                                aria-controls = "mvc-beispiel-servlet"
                                aria-expanded = "true"
                            >
                                Servlet
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "mvc-beispiel-jsp-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#mvc-beispiel-jsp"
                                role          = "tab"
                                aria-controls = "mvc-beispiel-jsp"
                            >
                                JSP
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "mvc-beispiel-css-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#mvc-beispiel-css"
                                role          = "tab"
                                aria-controls = "mvc-beispiel-css"
                            >
                                CSS
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "mvc-beispiel-ergebnis-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#mvc-beispiel-ergebnis"
                                role          = "tab"
                                aria-controls = "mvc-beispiel-ergebnis"
                            >
                                Ergebnis
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content border border-top-0 bg-white" style="padding: 1em;">
                        <!-- Netbeans-Projekt -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "mvc-beispiel-netbeans"
                            role            = "tabpanel"
                            aria-labelledby = "mvc-beispiel-netbeans-tab"
                        >
                            <p>
                                So sieht das Netbeans-Projekt aus. Wir bauen ein kleines Gästebuch.
                            </p>
                            <img src="mvc-beispiel-netbeans.png" class="d-block" style="width: 100%" />
                        </div>
                        <!-- Entity -->
                        <div
                            class           = "tab-pane fade show"
                            id              = "mvc-beispiel-entity"
                            role            = "tabpanel"
                            aria-labelledby = "mvc-beispiel-entity-tab"
                        >
                            <p>
                                Diese <b>Persistence Entity</b> entspricht einem in der Datenbank gespeicherten Eintrag.
                            </p>
                            <source-code language="java">
                                package dhbwka.wwi.vertsys.javee.guestbook;

                                import java.io.Serializable;
                                import java.sql.Date;
                                import java.sql.Time;
                                import javax.persistence.Entity;
                                import javax.persistence.GeneratedValue;
                                import javax.persistence.GenerationType;
                                import javax.persistence.Id;

                                /**
                                * Persistenzklasse für einen Gästebucheintrag.
                                */
                                @Entity
                                public class GuestbookEntry implements Serializable {

                                    private static final long serialVersionUID = 1L;
                                    @Id
                                    @GeneratedValue(strategy = GenerationType.AUTO)
                                    private Long id;

                                    private String name = "";
                                    private Date visitDate = new Date(System.currentTimeMillis());
                                    private Time visitTime = new Time(System.currentTimeMillis());

                                    public GuestbookEntry() {
                                    }

                                    public GuestbookEntry(String name) {
                                    this.name = name;
                                    }

                                    //&lt;editor-fold defaultstate="collapsed" desc="Setter und Getter"&gt;
                                    public Long getId() {
                                        return id;
                                    }

                                    public void setId(Long id) {
                                        this.id = id;
                                    }

                                    public String getName() {
                                        return name;
                                    }

                                    public void setName(String name) {
                                        this.name = name;
                                    }

                                    public Date getVisitDate() {
                                        return visitDate;
                                    }

                                    public void setVisitDate(Date visitDate) {
                                        this.visitDate = visitDate;
                                    }

                                    public Time getVisitTime() {
                                        return visitTime;
                                    }

                                    public void setVisitTime(Time visitTime) {
                                        this.visitTime = visitTime;
                                    }
                                    //&lt;/editor-fold&gt;

                                }
                            </source-code>
                        </div>
                        <!-- EJB -->
                        <div
                            class           = "tab-pane fade show"
                            id              = "mvc-beispiel-ejb"
                            role            = "tabpanel"
                            aria-labelledby = "mvc-beispiel-ejb-tab"
                        >
                            <p>
                                Dies ist eine <b>Enterprise Java Bean</b>. Sie enthält die Methoden zum Lesen und Schreiben der Einträge.
                            </p>
                            <source-code language="java">
                                package dhbwka.wwi.vertsys.javee.guestbook;

                                import java.util.List;
                                import javax.ejb.Stateless;
                                import javax.persistence.EntityManager;
                                import javax.persistence.PersistenceContext;

                                /**
                                 * Enterprise Java Bean zum Auslesen und Speichern von Gästebucheinträgen.
                                 */
                                @Stateless
                                public class GuestbookBean {

                                    @PersistenceContext
                                    EntityManager em;

                                    /**
                                     * @return Liste mit allen Gästebucheinträgen
                                     */
                                    public List&lt;GuestbookEntry&gt; findAllEntries() {
                                        return em.createQuery("SELECT e FROM GuestbookEntry e "
                                                            + "  ORDER BY e.visitDate DESC, "
                                                            + "           e.visitTime DESC")
                                                .getResultList();
                                    }

                                    /**
                                     * Speichert einen neuen Gästebucheintrag.
                                     * @param name Name des Besuchers
                                     * @return Der gespeicherte Eintrag
                                     */
                                    public GuestbookEntry createNewEntry(String name) {
                                        GuestbookEntry entry = new GuestbookEntry(name);
                                        em.persist(entry);
                                        return em.merge(entry);
                                    }
                                }
                            </source-code>
                        </div>
                        <!-- Servlet -->
                        <div
                            class           = "tab-pane fade show"
                            id              = "mvc-beispiel-servlet"
                            role            = "tabpanel"
                            aria-labelledby = "mvc-beispiel-servlet-tab"
                        >
                            <p>
                                Dies ist das Servlet, dass bei jeder <tt>GET</tt>- und <tt>POST</tt>-Anfrage durchlaufen wird.
                            </p>
                            <source-code language="java">
                                package dhbwka.wwi.vertsys.javee.guestbook;

                                import java.io.IOException;
                                import java.util.List;
                                import javax.ejb.EJB;
                                import javax.servlet.ServletException;
                                import javax.servlet.annotation.WebServlet;
                                import javax.servlet.http.HttpServlet;
                                import javax.servlet.http.HttpServletRequest;
                                import javax.servlet.http.HttpServletResponse;
                                import javax.servlet.http.HttpSession;

                                /**
                                 * Servlet für die Gästebuchseite
                                 */
                                @WebServlet(urlPatterns = {"/index.html"})
                                public class GuestbookServlet extends HttpServlet {

                                    @EJB
                                    GuestbookBean guestbookBean;

                                    @Override
                                    public void doGet(HttpServletRequest request, HttpServletResponse response)
                                    throws ServletException, IOException {
                                        // Alle vorhandenen Einträge aus der Datenbank lesen und im Request
                                        // Context ablegen, damit sie in der JSP zur Verfügung stehen
                                        List&lt;GuestbookEntry&gt; entries = this.guestbookBean.findAllEntries();
                                        request.setAttribute("entries", entries);

                                        // Anfrage an die JSP weiterleiten
                                        request.getRequestDispatcher("guestbook.jsp").forward(request, response);

                                        // In der Session liegende Fehlermeldung verwerfen, damit wir beim
                                        // nächsten Aufruf wieder mit einem leeren Eingabefeld anfangen
                                        HttpSession session = request.getSession();
                                        session.removeAttribute("fehler");
                                        session.removeAttribute("name");
                                    }

                                    @Override
                                    public void doPost(HttpServletRequest request, HttpServletResponse response)
                                    throws ServletException, IOException {
                                        // Prüfen, ob der Anwender seinen Namen eingegeben hat
                                        HttpSession session = request.getSession();

                                        String fehler = "";
                                        String name = request.getParameter("name");

                                        if (name == null || name.trim().isEmpty()) {
                                            fehler = "Bitte gib erst deinen Namen ein.";
                                            session.setAttribute("fehler", fehler);
                                            session.setAttribute("name", name);
                                        }

                                        // Neuen Eintrag speichern
                                        if (fehler.isEmpty()) {
                                            this.guestbookBean.createNewEntry(name);
                                        }

                                        // Browser auffordern, die Seite neuzuladen
                                        response.sendRedirect(request.getContextPath());
                                    }

                                }
                            </source-code>
                        </div>
                        <!-- JSP -->
                        <div
                            class           = "tab-pane fade"
                            id              = "mvc-beispiel-jsp"
                            role            = "tabpanel"
                            aria-labelledby = "mvc-beispiel-jsp-tab"
                        >
                            <p>
                                Hier die Datei <tt>WEB-INF/guestbook.jsp</tt> mit dem JSP-Code zur Anzeige der Seite.
                            </p>
                            <source-code language="html">
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;

                                &lt;%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%&gt;
                                &lt;%@taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%&gt;

                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8"&gt;
                                        &lt;title&gt;Gästebuch MVC-Beispiel&lt;/title&gt;
                                        &lt;link rel="stylesheet" href="style.css"&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;div class="container"&gt;
                                            &lt;h1&gt;Mein kleines Gästebuch&lt;/h1&gt;

                                            &lt;form method="POST"&gt;
                                                &lt;input type="text" name="name" placeholder="Dein Name" value="${name}"/&gt;
                                                &lt;button type="submit"&gt;Abschicken&lt;/button&gt;
                                            &lt;/form&gt;

                                            &lt;c:if test="${!empty fehler}"&gt;
                                                &lt;p class="error"&gt;
                                                    ${fehler}
                                                &lt;/p&gt;
                                            &lt;/c:if&gt;

                                            &lt;ul&gt;
                                                &lt;c:forEach items="${entries}" var="entry"&gt;
                                                    &lt;li&gt;
                                                        ${entry.visitDate}, ${entry.visitTime}: ${entry.name}
                                                    &lt;/li&gt;
                                                &lt;/c:forEach&gt;
                                            &lt;/ul&gt;
                                        &lt;/div&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                        <!-- CSS -->
                        <div
                            class           = "tab-pane fade"
                            id              = "mvc-beispiel-css"
                            role            = "tabpanel"
                            aria-labelledby = "mvc-beispiel-css-tab"
                        >
                        <p>
                            Damit es ordentlich aussieht, nutzen wir ein kleines Stylesheet namens <tt>style.css</tt>.
                        </p>
                        <source-code language="css">
                            html, body {
                                font-family: sans-serif;
                                font-size: 12pt;
                                height: 100%;

                                margin: 0;
                                padding: 0;
                            }

                            html {
                                background-image: url(https://picsum.photos/1024/?image=871);
                                background-repeat: no-repeat;
                                background-position: center center;
                                background-size: cover;
                            }

                            body {
                                display: flex;
                                justify-content: center;
                                align-items: center;
                            }

                            .container {
                                background: rgba(255,255,255,0.8);
                                border-radius: 0.5em;
                                padding: 1em;
                                margin: 2em;
                            }

                            h1, h2 {
                                color: crimson;
                                text-shadow: 0 0 1px rgba(0,0,0,0.5);
                                margin: 0 0 0.5em 0;
                            }

                            h2 {
                                color: deepskyblue;
                            }

                            input[type="text"] {
                                display: block;
                                width: 25em;
                                box-sizing: border-box;
                                border: 1px solid grey;
                                margin-bottom: 0.5em;
                            }

                            ul {
                                list-style: none;
                                margin: 1em 0 0 0;
                                padding: 0;
                                font-size: 90%;
                            }

                            li {
                                margin: 0 0 0.75em 0;
                                padding: 0;
                            }

                            .error {
                                color: red;
                                font-weight: bold;
                                margin: 0 0 0.75em 0;
                            }
                        </source-code>
                        </div>
                        <!-- Ergebnis -->
                        <div
                            class           = "tab-pane fade"
                            id              = "mvc-beispiel-ergebnis"
                            role            = "tabpanel"
                            aria-labelledby = "mvc-beispiel-ergebnis-tab"
                        >
                            <p>
                                Und so sieht die Anwendung aus, wenn sie fertig ist.
                            </p>
                            <img src="mvc-beispiel-ergebnis.jpg" class="d-block" style="width: 100%;" />
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Bist du bereit für ein wenig Quellcode? Auf dieser Folie siehst du eine einfache Webanwendung, deren einzige Seite
                    nach Model-View-Controller strukturiert wurde. Die gute Nachricht daran ist: Es sieht eigentlich nicht wirklich
                    anders aus, als das was wir zuletzt in <a href="../../../webprog/4-server/servlets/#8" target="_blank">Webprogrammierung</a>
                    gemacht haben. 🤗 Die schlechte Nachricht ist: JSP, Stylesheet und Servlet werden wir hier daher nicht sonderlich
                    erklären. 🤐 Diese kannst du ja einen Folien von letztem Semester nachlesen.
                </p>

                <h2>Am Anfang steht das Datenmodell</h2>
                <p>
                    Linux Torvalds wird das Zitat zugeschrieben „gute Programmierer scheren sich nicht um Algorithmen, sondern um
                    Datenstrukturen”. 💬 Vor allem anderen sollten wir uns daher erst das Datenmodell unserer kleinen Anwendung
                    überlegen. Für den Anfang soll es nichts Kompliziertes sein. Ein Gästebuch, in dem jeder Eintrag die folgenden
                    drei Felder besitzt, reicht fürs Erste:
                </p>
                <ul>
                    <li>
                        <tt>name:</tt> Der Name des Besuchers
                    </li>
                    <li>
                        <tt>visitDate:</tt> Datum des Besuchs
                    </li>
                    <li>
                        <tt>visitTime:</tt> Uhrzeit des Besuchs
                    </li>
                </ul>
                <p>
                    Hierfür legen wir eine <b>Persistence Entity</b> ein, was eigentlich nur ein wichtig klingender Begriff für eine
                    langweilige Javabean ist. Ihre Objekte kann Java in einer Datenbank ablegen, wofür die Bean folgenden Aufbau
                    haben muss:
                </p>
                <source-code language="java">
                    @Entity
                    public class GuestbookEntry {
                        @ID
                        @GeneratedValue
                        private long id;

                        private String name = "";
                        private Date visitDate = new Date(…);
                        private Time visitTime = new Time(…);

                        // Konstruktoren …
                        // Setter und Getter …
                    }
                </source-code>
                <p>
                    Du siehst: An der Klasse ist eigentlich gar nichts besonderes dran. Lediglich die Annotation
                    <src-code language="java">@Entity</src-code> muss davor stehen und sie muss eine ID als
                    Schlüsselfeld besitzen. Das reicht bereits völlig aus, damit Java eine dazu passende Tabelle für uns
                    anlegt. Natürlich kann man hier noch viel mehr machen, das schauen wir uns aber erst im nächsten
                    Foliensatz an.
                </p>

                <h2>Wir brauchen einen Service</h2>
                <p>
                    Als nächstes folgt die Fachlogik unserer Anwendung. Diese ist zum Glück ebenfalls sehr einfach.
                    Wir brauchen lediglich zwei Methoden, um alle Einträge auszulesen und einen neuen Eintrag zu speichern.
                    Diese Methoden packen wir in eine <b>Enterprise Java Bean</b>, die hierfür folgenden Aufbau haben
                    muss:
                </p>
                <source-code language="java">
                    @Stateless
                    public class GuestbookBean {

                        // Damit greifen wir auf die Datenbank zu
                        @PersistenceContext
                        EntityManager em;

                        public List&lt;GuestbookEntry&gt; findAllEntries() { … }
                        public GuestbookEntry createNewEntry(String name) { … }
                    }
                </source-code>
                <p>
                    Das ist ja noch viel einfacher! 🤠 Enterprise Java Beans sind tatsächlich ganz normale Klassen
                    mit ganz normalen Methoden. Einzig die Annotation <src-code language="java">@Stateless</src-code> verät,
                    dass es sich um eine EJB handelt. Die zwei Zeilen oberhalb der Methoden haben damit schon wieder gar nichts
                    mehr zu tun. Sie könnten auch in einem Servlet stehen und dienen nur dem Zugriff auf die Datenbank. Auch das
                    schauen wir uns im nächsten Foliensatz genauer an.
                </p>

                <h2>Der dritte Mann: Servlet und JSP</h2>
                <p>
                    Und hier sind wir schon wieder in gewohntem Territorium. Da wir eine Webanwendung programmieren wollen,
                    brauchen wir ein Servlet, eine JSP und ein Stylesheet. Tatsächlich könnten wir sie auch weglassen, wenn wir
                    nur einen Webservice anbieten wollten, der von entfernten Clients aufgerufen werden kann. Darauf kommen wir
                    ein anderes mal nochmal zurück. Jetzt aber zu unserem Servlet:
                </p>
                <source-code language="java">
                    public class GuestbookServlet extends HttpServler {

                        @EJB
                        GuestbookBean guestbookBean

                        public void doGet(…) { … }
                        public void doPost(…) { … }

                    }
                </source-code>
                <p>
                    Das Serlvet sollte eigentlich keine Überraschungen für dich bieten. Einzig neu ist das
                    <src-code language="java">@EJB</src-code>, mit dem wir uns eine Referenz auf die Enterprise Java Bean
                    besorgen. Auf den ersten Blick sieht das zwar wie ein Fehler aus, aber tatsächlich sorgt Java durch die
                    Annotation dafür, dass die Variable mit einer Referenz versorgt wird, wobei die Bean hierfür auf dem
                    eigenen oder gar einem anderen Server liegen könnte.
                </p>
                <p>
                    Das ist tatsächlich schon alles, ganz ehrlich. Um das zu beweisen, zeigen wir dir auf der
                    nächsten Folie, wie du das Projekt in Netbeans nachbauen kannst.
                </p>
            </aside>
        </section>

        <section>
            <h1>Wo geht's denn hier zur IDE?</h1>
            <article>
                <ul class="dhbw-carousel-links">
                    <li>
                        <a href="#mvc-netbeans-carousel" role="button" data-slide="next">Nächstes Bild</a>
                    </li>
                    <li>
                        <a href="#mvc-netbeans-carousel" role="button" data-slide="prev">Vorheriges Bild</a>
                    </li>
                    <li>
                        <a href="#mvc-netbeans-carousel" role="button" data-slide-to="0">Nochmal von vorne</a>
                    </li>
                </ul>
                <div id="mvc-netbeans-carousel" class="carousel slide" style="margin-bottom: 1em;" data-interval="false">
                    <div class="carousel-inner">
                        <div class="carousel-item img-thumbnail active">
                            <p>
                                Starte Netbeans und wähle im <tt>File</tt>-Menü <tt>New Project…</tt> aus.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-01.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Als Projekttyp solltest du <b>Web Application</b> in der Kategorie <b>Maven</b> nehmen.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-02.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Gib im nächsten Schritt den Namen des Projekts ein und ändere ggf. die <tt>Project Location</tt>
                                und das <tt>Package</tt>.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-03.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Die Einträge im letzten Schritt sollten bereits richtig sein. Du kannst das Projekt daher nun anlegen.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-04.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Die Datei <tt>index.html</tt> solltest du löschen. Wir ersetzen sie durch ein Servlet und eine JSP.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-05.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Doch zunächst legen wir eine Persistence Entity an. In Netbeans heißt der Eintrag <tt>Entity Class…</tt>.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-06.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Nenne die neue Klasse <tt>GuestbookEntry</tt> und gehe weiter.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-07.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Ändere dein Eintrag bei <tt>Persistence Unit Name</tt> auf <tt>default</tt>. <br />
                                Im Feld <tt>Data Source</tt> musst du <tt>jdbc/__default</tt> auswählen.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-08.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Den Quellcode kannst du aus der vorherigen Folie kopieren.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-09.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Weiter geht es mit der Enterprise Java Bean. Hierfür legst du am besten einfach eine leere Klasse an.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-10.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Nenne die Klasse <tt>GuestbookBean</tt> und bestätige das Fenster.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-11.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Auch hier kannst du den Quellcode aus der vorherigen Folie kopieren.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-12.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Weiter geht es mit dem Servlet. Lege auch hierfür eine <tt>Empty Class…</tt> anstelle eines <tt>Servlet…</tt> an.
                                Denn sonst generiert Netbeans viel zu viel unnötigen Quellcode!
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-13.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Die Klasse heißt (Trommelwirbel bitte 🥁): <tt>GuestbookServlet</tt>.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-14.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Nun kommt die Java Server Page.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-15.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Sie heißt einfach nur <tt>guestbook</tt>. Die Dateiendung ergänzt Netbeans von alleine.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-16.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Das Stylesheet kannst du in eine neue, leere Datei mit dem Namen <tt>style.css</tt> kopieren.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-17.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Nun solltest du die Anwendung über das grüne Play-Symbol
                                <span style="color: lawngreen; text-shadow: 1px 1px 1px rgba(0,0,0,0.5);">▶️</span> starten können.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-18.png" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Wenn alles gute geht, sollte der Browser dann folgendes Bild anzeigen.
                            </p>
                            <img class="active d-block w-100" src="mvc-beispiel-ergebnis.jpg" />
                        </div>
                        <div class="carousel-item img-thumbnail">
                            <p>
                                Das war's auch schon. <br />
                                Zwar waren das jetzt schon einige Schritte. <br />
                                Du musstest aber auch gleich fünf Dateien übernehmen. <br />
                                &nbsp;&nbsp;
                                1️⃣ &nbsp;&nbsp;
                                2️⃣ &nbsp;&nbsp;
                                3️⃣ &nbsp;&nbsp;
                                4️⃣ &nbsp;&nbsp;
                                5️⃣ &nbsp;&nbsp;
                            </p>
                            <img class="active d-block w-25 m-auto" src="../../finish.svg" />
                        </div>
                    </div>
                </div>

                <p>
                    <small>
                        <small>
                            Bildnachweis für das Endesymbol: <a href="https://pixabay.com/en/symbol-gui-internet-internet-page-2480163/" target="_blank">Pixabay: janf93</a>
                        </small>
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    Auf dieser Folie siehst du Schritt für Schritt, wie du das Beispiel von Eben nachbauen kannst. ⛰️
                    Im Prinzip ist es ganz einfach. Du legst einfach ein neues Webprojekt an und kopierst die Quellcodes
                    aus der vorherigen Folie hinein. In Vorbereitung auf spätere Projekte nutzen wir hier allerdings
                    den Projekttyp <b>Web Application</b> aus der Kategorie <b>Maven</b>. Am Anfang macht das zwar noch
                    keinen Unterschied. Später können wir dadurch aber ganz einfach die benötigten Zusatzbibliotheken
                    in unsere Projekte einbinden, ohne sie manuell herunterladen zu müssen.
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 2: Deine erste Enterprise Java Bean</h1>
            <article>
                <p>
                    Lege in Netbeans ein <a href="../http/#8" target="_blank">Maven Java-Webprojekt</a> an und probiere folgende Sachen aus:
                </p>

                <ol>
                    <li>
                        Lösche die Datei <tt>index.html</tt> aus dem Ordner <tt>Web Pages.</tt>
                    </li>
                    <li>
                        Stattdessen kopiere die Dateien <tt>guestbook.jsp</tt> und <tt>style.css</tt> in das Projekt.
                    </li>
                    <li>
                        Lege die Klassen <tt>GuestbookEntry</tt>, <tt>GuestbookBean</tt> und <tt>GuestbookSerlvet</tt> wie gezeigt an.
                    </li>
                    <li>
                        Starte die Anwendung und schaue, ob alles fehlerfrei funktioniert.
                    </li>
                </ol>

                <img src="mvc-beispiel-netbeans.png" class="d-block img-thumbnail" style="width: 100%;" />
            </article>
            <aside>
                <p>
                    Bevor wir weiter in den Quellcode eintauchen, solltest du erst versuchen, das eben
                    gezeigte Beispiel zum Laufen zu bekommen. Starte daher Netbeans und befolge alle
                    Schritte wie eben gesehen. 🐈
                </p>
                <img src="../../github_atom.png" class="img-fluid d-block"/>
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://atom.io/" target="_blank">Atom Webseite</a>
                    </small>
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 3: Ein kleines MVC-Quiz</h1>
            <article>
                …
            </article>
            <aside>
                <p>
                    Na zum Glück war vieles eine Wiederholung aus Webprogrammierung.
                    Ein paar Sachen waren dann doch aber neu, so dass wir den neu
                    erworbenes Wissen gleich mal testen wollen. 🥞
                </p>
            </aside>
        </section>

        <!--
            ===============================
            ENTERPRISE JAVA BEANS IM DETAIL
            ===============================
        -->
        <section data-chapter data-background-image="../../trennfolie.jpg">
            <h1>Enterprise Java Beans im Detail</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Stateless, Stateful und Singleton Beans</h1>
            <article>
                …
            </article>
            <aside>
                <p>
                    …
                </p>
            </aside>
        </section>

        <section>
            <h1>Nur für Zuhause: EJBs mit No-Interface-View</h1>
            <article>
                …
            </article>
            <aside>
                <p>
                    …
                </p>
            </aside>
        </section>

        <section>
            <h1>Wann braucht man ein Local Interface?</h1>
            <article>
                …
            </article>
            <aside>
                <p>
                    …
                </p>
            </aside>
        </section>

        <section>
            <h1>Und wann ein Remote Interface?</h1>
            <article>
                …
            </article>
            <aside>
                <p>
                    …
                </p>
            </aside>
        </section>

        <section>
            <h1>Woher kommen eigentlich die EJB-Objekte?</h1>
            <article>
                …
            </article>
            <aside>
                <p>
                    …
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 4: Ein kleines EJB-Quiz</h1>
            <article>
                …
            </article>
            <aside>
                <p>
                    Inzwischen solltest du dich schon ganz gut mit der Java Enterprise Edition auskennen.
                    Zur Kontrolle haben wir hier ein paar Fragen für dich. 🍯
                </p>
            </aside>
        </section>

        <!--
            ==============
            RECHTSHINWEISE
            ==============
        -->
        <section data-chapter data-background-color="rgb(158, 203, 231)">
            <h1>Rechtshinweise</h1>
            <article>
                <h4>Creative Commons Namensnennung 4.0 International</h4>
                <ul>
                    <li>Beliebiges Teilen ist erlaubt</li>
                    <li>Die Unterlagen dürfen bearbeitet und verändert werden</li>
                    <li>Wenn die Namens- und Urheberangaben erhalten bleiben</li>
                    <li>Und keine weiteren Einschränkungen auferlegt werden</li>
                </ul>
                <span style="font-size: 400px; color: white;" class="dhbw-text-shadow" >§</span>
            </article>
            <aside style="font-size: 80%">
                <h4>Kontaktdaten</h4>
                <p>
                    Dennis Schulmeister-Zimolong<br/>
                    E-Mail: <a data-email-address>dhbw windows3.de</a><br/>
                </p>

                <h4>Urheberrecht und Lizenzvereinbarung</h4>
                <p>
                    © 2018 Dennis Schulmeister-Zimolong <br/>
                    <a href="https://github.com/DennisSchulmeister/dhbwka-wwi-vertsys-folien" target="_blank">https://github.com/DennisSchulmeister/dhbwka-wwi-vertsys-folien</a>
                </p>
                <img src="https://i.creativecommons.org/l/by/4.0/88x31.png" alt="Creative Commons Lizenzvertrag" />
                <p>
                    Das Werk <i>Vorlesung "Verteilte Systeme" im Studiengang Wirtschaftsinformatik
                    an der DHBW Karlsruhe</i> von <a href="http://www.windows3.de" target="_blank">Dennis Schulmeister-Zimolong</a>
                    ist lizenziert unter <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank"><i>Creative Commons
                    Namensnennung 4.0 International</i></a>.
                </p>
                <p>
                    Du darfst:
                </p>
                <ul>
                    <li>
                        <b>Teilen</b> — das Material in jedwedem Format oder Medium vervielfältigen
                        und weiterverbreiten
                    </li>
                    <li>
                        <b>Bearbeiten</b> — das Material remixen, verändern und darauf aufbauen
                        und zwar für beliebige Zwecke, sogar kommerziell.
                    </li>
                </ul>
                <p>
                    Unter folgenden Bedingungen:
                </p>
                <ul>
                    <li>
                        <b>Namensnennung</b> — Du musst angemessene Urheber- und Rechteangaben
                        machen, einen Link zur Lizenz beifügen und angeben, ob Änderungen
                        vorgenommen wurden. Diese Angaben dürfen in jeder angemessenen Art
                        und Weise gemacht werden, allerdings nicht so, dass der Eindruck
                        entsteht, der Lizenzgeber unterstütze gerade dich oder deine Nutzung
                        besonders.
                    </li>
                    <li>
                        <b>Keine weiteren Einschränkungen</b> — Du darfst keine zusätzlichen Klauseln
                        oder technische Verfahren einsetzen, die anderen rechtlich irgendetwas
                        untersagen, was die Lizenz erlaubt.
                    </li>
                </ul>
                <p>
                    Es werden keine Garantien gegeben und auch keine Gewähr geleistet.
                    Die Lizenz verschafft dir möglicherweise nicht alle Erlaubnisse,
                    die du für die jeweilige Nutzung brauchst. Es können beispielsweise
                    andere Rechte wie Persönlichkeits- und Datenschutzrechte zu beachten
                    sein, die deine Nutzung des Materials entsprechend beschränken.
                </p>
            </aside>
        </section>
    </body>
</html>
